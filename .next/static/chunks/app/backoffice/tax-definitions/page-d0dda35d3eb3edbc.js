(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7593],{7147:function(e,t,r){Promise.resolve().then(r.bind(r,1813))},7461:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(4090),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{color:l="currentColor",size:d=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:m,...x}=r;return(0,a.createElement)("svg",{ref:i,...s,width:d,height:d,stroke:l,strokeWidth:c?24*Number(o)/Number(d):o,className:["lucide","lucide-".concat(n(e)),u].join(" "),...x},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},3441:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5159:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},822:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},94:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},699:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},8670:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},9295:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},489:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},2235:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(7461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},1813:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var a=r(3827),s=r(4090),n=r(9295),i=r(489),l=r(699),d=r(2235),o=r(94),c=r(822),u=r(6145),m=r(4906),x=r(3308);let h=[{id:"1",name:"YİYECEK %1",rate:1},{id:"2",name:"YİYECEK %8",rate:8},{id:"3",name:"YİYECEK %18",rate:18},{id:"4",name:"İ\xc7ECEK %8",rate:8},{id:"5",name:"İ\xc7ECEK %18",rate:18},{id:"6",name:"ALKOLL\xdc %18",rate:18},{id:"7",name:"TATLI %8",rate:8},{id:"8",name:"TATLI %18",rate:18},{id:"9",name:"KDV %0",rate:0},{id:"10",name:"YİYECEK %10",rate:10},{id:"11",name:"YİYECEK %20",rate:20},{id:"12",name:"YİYECEK %24",rate:24}],p=[{id:"1",productId:"1",productName:"Hamburger",masaKdvId:"3",alGoturKdvId:"3",paketServisKdvId:"2"},{id:"2",productId:"2",productName:"Pizza",masaKdvId:"3",alGoturKdvId:"3",paketServisKdvId:"2"},{id:"3",productId:"3",productName:"Kola",masaKdvId:"5",alGoturKdvId:"5",paketServisKdvId:"5"},{id:"4",productId:"4",productName:"Ayran",masaKdvId:"4",alGoturKdvId:"4",paketServisKdvId:"4"},{id:"5",productId:"5",productName:"Baklava",masaKdvId:"8",alGoturKdvId:"8",paketServisKdvId:"7"}],g=[{id:"groups",title:"KDV Grupları"},{id:"mappings",title:"Satış Tipine G\xf6re Eşleştirme"}];function v(){let[e,t]=(0,s.useState)("groups"),[r,v]=(0,s.useState)(h),[y,f]=(0,s.useState)(p),[b,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(),[w,K]=(0,s.useState)("new"),[I,C]=(0,s.useState)(new Set),[S,Z]=(0,s.useState)({}),E=e=>{k(e),K("edit"),j(!0)},G=e=>{confirm("Bu KDV grubunu silmek istediğinize emin misiniz?")&&(v(r.filter(t=>t.id!==e)),f(y.map(t=>({...t,masaKdvId:t.masaKdvId===e?null:t.masaKdvId,alGoturKdvId:t.alGoturKdvId===e?null:t.alGoturKdvId,paketServisKdvId:t.paketServisKdvId===e?null:t.paketServisKdvId}))))},V=e=>{C(t=>{let r=new Set(t);return r.add(e),r}),Z(t=>({...t,[e]:{...y.find(t=>t.id===e)}}))},D=e=>{C(t=>{let r=new Set(t);return r.delete(e),r}),delete S[e],Z({...S})},Y=e=>{let t=S[e];f(y.map(r=>r.id===e?t:r)),D(e)},z=(e,t,r)=>{I.has(e)&&Z(a=>({...a,[e]:{...a[e],[t]:""===r?null:r}}))},A=e=>{let{mappingId:t,field:s,value:n,onChange:i}=e,l=I.has(t),d=l?S[t][s]:n;return(0,a.jsxs)("select",{value:d||"",onChange:e=>i(e.target.value),disabled:!l,className:"w-full h-8 rounded bg-gray-50 border px-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 text-sm ".concat(l?"border-blue-300 bg-white":"border-gray-300 bg-gray-50"," ").concat(!l&&"cursor-not-allowed opacity-75"),children:[(0,a.jsx)("option",{value:"",children:"Se\xe7iniz"}),r.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})},M=[{header:"\xdcr\xfcn",accessor:"productName",sortable:!0},{header:"Masa",accessor:e=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(A,{mappingId:e.id,field:"masaKdvId",value:e.masaKdvId,onChange:t=>z(e.id,"masaKdvId",t)})})},{header:"Al G\xf6t\xfcr",accessor:e=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(A,{mappingId:e.id,field:"alGoturKdvId",value:e.alGoturKdvId,onChange:t=>z(e.id,"alGoturKdvId",t)})})},{header:"Paket Servis",accessor:e=>(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(A,{mappingId:e.id,field:"paketServisKdvId",value:e.paketServisKdvId,onChange:t=>z(e.id,"paketServisKdvId",t)})})},{header:"İşlemler",accessor:e=>{let t=I.has(e.id);return(0,a.jsx)("div",{className:"flex items-center gap-2",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>Y(e.id),className:"text-emerald-500 hover:text-emerald-600 transition-colors",title:"Kaydet",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>D(e.id),className:"text-gray-500 hover:text-gray-600 transition-colors",title:"İptal",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]}):(0,a.jsx)("button",{onClick:()=>V(e.id),className:"text-blue-500 hover:text-blue-600 transition-colors",title:"D\xfczenle",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})})})}}];return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"KDV Tanımları"})}),(0,a.jsx)(m.m,{tabs:g,activeTab:e,onTabChange:t}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"groups"===e?"KDV gruplarını ve oranlarını y\xf6netin":"\xdcr\xfcnlerin satış tiplerine g\xf6re KDV gruplarını belirleyin"}),"groups"===e&&(0,a.jsxs)("button",{onClick:()=>{k(void 0),K("new"),j(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-600 transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5"}),"Yeni KDV Grubu"]})]}),"groups"===e?(0,a.jsx)(u.w,{columns:[{header:"Grup Adı",accessor:"name",sortable:!0},{header:"KDV Oranı",accessor:e=>"%".concat(e.rate),sortable:!0},{header:"İşlemler",accessor:e=>(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),E(e)},className:"text-blue-500 hover:text-blue-600 transition-colors",children:(0,a.jsx)(n.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:t=>{t.stopPropagation(),G(e.id)},className:"text-red-500 hover:text-red-600 transition-colors",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})})]})}],data:r,onRowClick:E}):(0,a.jsx)(u.w,{columns:M,data:y})]}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-[500px]",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 text-blue-500"}),"edit"===w?"KDV Grubu D\xfczenle":"Yeni KDV Grubu"]}),(0,a.jsx)("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-500 transition-colors",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=e.target,a=new FormData(t),s={id:(null==N?void 0:N.id)||(0,x.x0)(),name:a.get("name"),rate:parseFloat(a.get("rate"))};"edit"===w?v(r.map(e=>e.id===s.id?s:e)):v([...r,s]),j(!1)},className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup Adı"}),(0,a.jsx)("input",{type:"text",name:"name",defaultValue:null==N?void 0:N.name,className:"w-full h-10 rounded-lg bg-gray-50 border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KDV Oranı (%)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"number",name:"rate",defaultValue:null==N?void 0:N.rate,className:"w-full h-10 rounded-lg bg-gray-50 border border-gray-300 pl-9 pr-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",required:!0,min:"0",max:"100",step:"0.01"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-200",children:[(0,a.jsx)("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 transition-colors",children:"İptal"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Kaydet"})]})]})]})})]})}},6145:function(e,t,r){"use strict";r.d(t,{w:function(){return d}});var a=r(3827),s=r(4090),n=r(8670),i=r(5159),l=r(3441);function d(e){let{columns:t,data:r,onRowClick:d}=e,[o,c]=(0,s.useState)(null),[u,m]=(0,s.useState)(""),[x,h]=(0,s.useState)(1),p=s.useMemo(()=>o?[...r].sort((e,t)=>{let r=e[o.key],a=t[o.key];return"string"==typeof r&&"string"==typeof a?"asc"===o.direction?r.localeCompare(a):a.localeCompare(r):r===a?0:"asc"===o.direction?r<a?-1:1:r>a?-1:1}):r,[r,o]),g=s.useMemo(()=>u?p.filter(e=>Object.entries(e).some(e=>{let[t,r]=e;return("string"==typeof r||"number"==typeof r)&&String(r).toLowerCase().includes(u.toLowerCase())})):p,[p,u]),v=Math.ceil(g.length/10),y=g.slice((x-1)*10,10*x),f=e=>{"function"!=typeof e&&c(t=>t&&t.key===e?"asc"===t.direction?{key:e,direction:"desc"}:null:{key:e,direction:"asc"})};return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{type:"text",placeholder:"Ara...",value:u,onChange:e=>m(e.target.value),className:"w-full h-10 pl-10 pr-4 rounded-lg bg-white border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("tr",{children:t.map((e,t)=>(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",onClick:()=>e.sortable&&"string"==typeof e.accessor&&f(e.accessor),style:{cursor:e.sortable&&"string"==typeof e.accessor?"pointer":"default"},children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.header,e.sortable&&"string"==typeof e.accessor&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)(i.Z,{className:"w-3 h-3 ".concat((null==o?void 0:o.key)===e.accessor&&"asc"===o.direction?"text-blue-500":"text-gray-400")}),(0,a.jsx)(l.Z,{className:"w-3 h-3 -mt-1 ".concat((null==o?void 0:o.key)===e.accessor&&"desc"===o.direction?"text-blue-500":"text-gray-400")})]})]})},t))})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:y.map((e,r)=>(0,a.jsx)("tr",{className:"hover:bg-gray-50 ".concat(d?"cursor-pointer":""),onClick:()=>null==d?void 0:d(e),children:t.map((t,r)=>(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"function"==typeof t.accessor?t.accessor(e):String(e[t.accessor])},r))},r))})]})}),(0,a.jsxs)("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Toplam ",g.length," kayıt"]}),(0,a.jsx)("div",{className:"flex gap-1",children:Array.from({length:v},(e,t)=>t+1).map(e=>(0,a.jsx)("button",{onClick:()=>h(e),className:"w-8 h-8 flex items-center justify-center rounded text-sm transition-colors ".concat(x===e?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),children:e},e))})]})]})}},4906:function(e,t,r){"use strict";r.d(t,{m:function(){return s}});var a=r(3827);function s(e){let{tabs:t,activeTab:r,onTabChange:s}=e;return(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsx)("div",{className:"flex gap-4",children:t.map(e=>(0,a.jsxs)("button",{onClick:()=>s(e.id),className:"px-4 py-2 text-sm font-medium transition-colors relative ".concat(r===e.id?"text-blue-600":"text-gray-500 hover:text-gray-700"),children:[e.title,r===e.id&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},e.id))})})}},3308:function(e,t,r){"use strict";r.d(t,{x0:function(){return a}});let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=7147)}),_N_E=e.O()}]);