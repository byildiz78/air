(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8937],{4616:function(e,s,t){Promise.resolve().then(t.bind(t,82345))},87461:function(e,s,t){"use strict";t.d(s,{Z:function(){return i}});var r=t(64090),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,s)=>{let t=(0,r.forwardRef)((t,i)=>{let{color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=t;return(0,r.createElement)("svg",{ref:i,...a,width:c,height:c,stroke:n,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(l(e)),u].join(" "),...x},[...s.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},29910:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(87461).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},52235:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t(87461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},82345:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var r=t(3827),a=t(64090);function l(e){let{messages:s,pageId:t,draggedItem:a,dragOverItem:l,onDragStart:i,onDragOver:n,onDrop:c,onDragEnd:o,onMessageClick:d,onEmptyClick:u}=e,m=Array(32).fill(null).map((e,t)=>s[t]||null);return(0,r.jsx)("div",{className:"grid grid-cols-4 gap-1 p-1",children:m.map((e,s)=>(0,r.jsx)("div",{className:"h-[60px] rounded-lg overflow-hidden ".concat(e?"cursor-pointer":"bg-gray-50 hover:bg-gray-100 cursor-pointer flex items-center justify-center"," ").concat((null==a?void 0:a.messageId)===(null==e?void 0:e.id)?"opacity-50":""," ").concat((null==l?void 0:l.pageId)===t&&(null==l?void 0:l.index)===s?"ring-2 ring-blue-500":""),style:e?{backgroundColor:e.groupColor||"#E5E7EB"}:void 0,draggable:!!e,onDragStart:r=>e&&i(r,e.id,t,s),onDragOver:e=>n(e,t,s),onDrop:e=>c(e,t,s),onDragEnd:o,onClick:()=>e?d(e):u(),children:e?(0,r.jsx)("div",{className:"h-full p-2 flex flex-col justify-center items-center text-white",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-sm font-medium",children:e.name}),e.extraPrice>0&&(0,r.jsxs)("div",{className:"text-xs mt-0.5",children:["+",e.extraPrice.toFixed(2)," ₺"]})]})}):(0,r.jsx)("div",{className:"text-xs text-gray-400",children:"Boş"})},s))})}var i=t(52235);function n(e){let{isOpen:s,onClose:t,onSave:l,onDelete:n,message:c}=e,[o,d]=(0,a.useState)({id:"",name:"",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!1,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"",groupColor:"",isActive:!0});(0,a.useEffect)(()=>{c&&d(c)},[c]);let u=e=>{let{name:s,value:t,type:r,checked:a}=e.target;"checkbox"===r?d(e=>({...e,[s]:a})):"number"===r?d(e=>({...e,[s]:parseFloat(t)||0})):d(e=>({...e,[s]:t}))};return s?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-[500px] flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b border-gray-200",children:[(0,r.jsx)("h2",{className:"text-base font-medium text-gray-900",children:(null==c?void 0:c.id)?"Mesaj D\xfczenle":"Yeni Mesaj"}),(0,r.jsx)("button",{type:"button",onClick:t,className:"text-gray-400 hover:text-gray-500 transition-colors",children:(0,r.jsx)(i.Z,{size:20})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"\xdcR\xdcN MESAJI"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:o.name,onChange:u,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-8",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"extraPrice",className:"block text-sm font-medium text-gray-700",children:"EK FİYAT"}),(0,r.jsx)("input",{type:"number",id:"extraPrice",name:"extraPrice",value:o.extraPrice,onChange:u,className:"mt-1 block w-[100px] rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm h-8"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"selectedByDefault",name:"selectedByDefault",checked:o.selectedByDefault,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"selectedByDefault",className:"ml-2 block text-sm text-gray-900",children:"\xdcR\xdcNDE SE\xc7İLİ GELSİN"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"GENEL"}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"\xd6zel alanlar"})]}),(0,r.jsxs)("div",{className:"space-y-2 border rounded p-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isKitchenAddMessage",name:"isKitchenAddMessage",checked:o.isKitchenAddMessage,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"isKitchenAddMessage",className:"ml-2 block text-sm text-gray-900",children:"MUTFAK İLAVE MESAJIDIR"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isKitchenSendMessage",name:"isKitchenSendMessage",checked:o.isKitchenSendMessage,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"isKitchenSendMessage",className:"ml-2 block text-sm text-gray-900",children:"MUTFAK G\xd6NDER MESAJIDIR"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isPizzaProduction",name:"isPizzaProduction",checked:o.isPizzaProduction,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"isPizzaProduction",className:"ml-2 block text-sm text-gray-900",children:"PİZZA \xdcRETİMİ"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isAutomaticForKgProducts",name:"isAutomaticForKgProducts",checked:o.isAutomaticForKgProducts,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"isAutomaticForKgProducts",className:"ml-2 block text-sm text-gray-900",children:"KG OLAN \xdcR\xdcNLERE OTOMATİK EKLE"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"isDepositMessage",name:"isDepositMessage",checked:o.isDepositMessage,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"isDepositMessage",className:"ml-2 block text-sm text-gray-900",children:"DEPOZİTO MESAJIDIR"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"hideMessage",name:"hideMessage",checked:o.hideMessage,onChange:u,className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,r.jsx)("label",{htmlFor:"hideMessage",className:"ml-2 block text-sm text-gray-900",children:"\xdcR\xdcN MESAJINI GİZLE"})]})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2 px-4 py-3 border-t border-gray-200 bg-gray-50",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"İPTAL"}),(0,r.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),l(o)},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"KAYDET"}),(0,r.jsx)("button",{type:"button",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"SE\xc7"})]})]})}):null}var c=t(48200);let o=[{id:"1",name:"\xdcR\xdcN MESAJ GRUBU 1",color:"#4CAF50"},{id:"2",name:"\xdcR\xdcN MESAJ GRUBU 2",color:"#9C27B0"}],d=[{id:"1",name:"Ekstra İstekler",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!0,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"1",groupColor:"#4CAF50",isActive:!0},{id:"2",name:"\xd6zel Notlar",extraPrice:5,selectedByDefault:!0,isKitchenAddMessage:!1,isKitchenSendMessage:!0,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"1",groupColor:"#4CAF50",isActive:!0}];function u(){let[e,s]=(0,a.useState)(d),[t,i]=(0,a.useState)(o),[u,m]=(0,a.useState)(null),[x,g]=(0,a.useState)(!1),[h,f]=(0,a.useState)([]),[b,p]=(0,a.useState)(1),[y,v]=(0,a.useState)(null),[N,j]=(0,a.useState)(null),[k,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{let e=document.querySelector("footer");return e&&(e.style.display="none"),()=>{e&&(e.style.display="block")}},[]);let M=k?e.filter(e=>e.groupId===k):e;(0,a.useEffect)(()=>{let e=Math.ceil(M.length/32)||1,s=[];for(let t=0;t<e;t++){let e=M.slice(32*t,(t+1)*32);s.push({id:t+1,messages:e})}f(s),b>e&&p(1)},[M,b]);let A=e=>{m(e),g(!0)},E=()=>{var e;m({id:Date.now().toString(),name:"YENİ MESAJ",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!1,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:k||"",groupColor:k?null===(e=t.find(e=>e.id===k))||void 0===e?void 0:e.color:void 0,isActive:!0}),g(!0)},P=(e,s,t,r)=>{v({messageId:s,pageId:t,index:r}),e.dataTransfer.effectAllowed="move"},D=(e,s,t)=>{e.preventDefault(),e.dataTransfer.dropEffect="move",y&&(y.pageId!==s||y.index!==t)&&j({pageId:s,index:t})},S=()=>{v(null),j(null)},C=(e,t,r)=>{if(e.preventDefault(),!y)return;let{messageId:a,pageId:l,index:i}=y;if(l===t&&i===r)return;let n=[...h],c=n.find(e=>e.id===l),o=n.find(e=>e.id===t);if(!c||!o)return;let d=c.messages[i];if(!d)return;c.messages[i]=null;let u=o.messages[r];u&&(c.messages[i]=u),o.messages[r]=d,f(n);let m=[];n.forEach(e=>{e.messages.forEach(e=>{e&&m.push(e)})}),s(m),S()},K=e=>{p(e)};return(0,r.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,r.jsx)("div",{className:"w-56 flex-shrink-0 p-1",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden h-[calc(100vh-8px)]",children:[(0,r.jsx)("div",{className:"p-2 border-b border-gray-100",children:(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-900",children:"MEN\xdc GRUPLARI"})}),(0,r.jsx)(c.v,{groups:t,selectedGroupId:k,onGroupSelect:e=>{w(e)}}),(0,r.jsx)("button",{className:"w-full p-2 text-xs text-blue-600 bg-blue-50 hover:bg-blue-100 flex items-center justify-center gap-1",onClick:()=>{},children:"GRUPLARI D\xdcZENLE"})]})}),(0,r.jsxs)("div",{className:"flex-grow p-1",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden h-[calc(100vh-48px)] flex flex-col",children:h.map(e=>(0,r.jsxs)("div",{className:"".concat(e.id===b?"block flex-grow":"hidden"),children:[(0,r.jsx)("div",{className:"p-2 border-b border-gray-100",children:(0,r.jsxs)("h2",{className:"text-sm font-medium text-gray-900",children:["SAYFA ",e.id]})}),(0,r.jsx)("div",{className:"overflow-auto",children:(0,r.jsx)(l,{messages:e.messages,pageId:e.id,draggedItem:y,dragOverItem:N,onDragStart:P,onDragOver:D,onDrop:C,onDragEnd:S,onMessageClick:A,onEmptyClick:E})})]},e.id))}),(0,r.jsx)("div",{className:"flex justify-center mt-1",children:(0,r.jsx)("div",{className:"flex gap-1",children:h.map(e=>(0,r.jsx)("button",{className:"w-6 h-6 flex items-center justify-center rounded text-xs transition-colors duration-200 ".concat(e.id===b?"bg-green-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"),onClick:()=>K(e.id),children:e.id},e.id))})})]}),x&&u&&(0,r.jsx)(n,{isOpen:x,onClose:()=>{g(!1),m(null)},onSave:t=>{e.some(e=>e.id===t.id)?s(e=>e.map(e=>e.id===t.id?t:e)):s(e=>[...e,t]),g(!1),m(null)},onDelete:e=>{s(s=>s.filter(s=>s.id!==e)),g(!1),m(null)},message:u})]})}},48200:function(e,s,t){"use strict";t.d(s,{v:function(){return l}});var r=t(3827);t(64090);var a=t(29910);let l=e=>{let{groups:s,selectedGroupId:t,onGroupSelect:l}=e;return(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-200 h-full flex flex-col",children:[(0,r.jsx)("div",{className:"bg-gray-100 px-3 py-1 border-b border-gray-200 flex-shrink-0",children:(0,r.jsx)("h2",{className:"text-base font-semibold text-gray-800",children:"MEN\xdc GRUPLARI"})}),(0,r.jsx)("div",{className:"p-1 flex-grow overflow-auto",children:(0,r.jsx)("div",{className:"space-y-1",children:s.map(e=>(0,r.jsxs)("button",{className:"w-full text-left px-2 py-1 rounded-md flex items-center transition-colors duration-200 text-sm ".concat(t===e.id?"bg-blue-100 text-blue-800 border-l-2 border-blue-500":"hover:bg-gray-100"),onClick:()=>l(e.id),children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full mr-1 flex-shrink-0",style:{backgroundColor:e.color}}),(0,r.jsx)("span",{className:"truncate",children:e.name})]},e.id))})}),(0,r.jsx)("div",{className:"bg-gray-50 p-1 border-t border-gray-200 flex-shrink-0",children:(0,r.jsxs)("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-1 rounded-md flex items-center justify-center gap-1 transition-colors duration-200 text-sm",onClick:()=>window.location.href="/backoffice/menu/groups",children:[(0,r.jsx)(a.Z,{size:14}),"GRUPLARI D\xdcZENLE"]})})]})}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=4616)}),_N_E=e.O()}]);