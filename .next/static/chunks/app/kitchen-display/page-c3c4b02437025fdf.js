(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[68],{98610:function(e,t,s){Promise.resolve().then(s.bind(s,26251))},87461:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(64090),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{color:n="currentColor",size:d=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:m="",children:u,...x}=s;return(0,a.createElement)("svg",{ref:l,...r,width:d,height:d,stroke:n,strokeWidth:o?24*Number(c)/Number(d):c,className:["lucide","lucide-".concat(i(e)),m].join(" "),...x},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}},26490:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},93832:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]])},99925:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},62457:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},30438:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},63915:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},29910:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},11213:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},52235:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(87461).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},26251:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var a=s(3827),r=s(64090),i=s(26490),l=s(99925),n=s(93832),d=s(87461);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,d.Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var o=s(29910),m=e=>{let{settings:t,onSettingsChange:s}=e,[d,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)("");(0,r.useEffect)(()=>{p();let e=setInterval(p,1e3);return()=>clearInterval(e)},[]);let p=()=>{x(new Date().toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit",second:"2-digit"}))};return(0,a.jsxs)("div",{className:"bg-gray-800 text-white p-4",children:[(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Mutfak Ekranı (KDS)"}),(0,a.jsx)("span",{className:"bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Aktif"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.Z,{size:18}),u&&(0,a.jsx)("span",{children:u})]}),(0,a.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-700 transition-colors",onClick:()=>{s({viewMode:"grid"===t.viewMode?"list":"grid"})},title:"grid"===t.viewMode?"Liste G\xf6r\xfcn\xfcm\xfc":"Izgara G\xf6r\xfcn\xfcm\xfc",children:"grid"===t.viewMode?(0,a.jsx)(l.Z,{size:20}):(0,a.jsx)(n.Z,{size:20})}),(0,a.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-700 transition-colors",onClick:()=>{console.log("Manual refresh triggered")},title:"Yenile",children:(0,a.jsx)(c,{size:20})}),(0,a.jsx)("button",{className:"p-2 rounded-full hover:bg-gray-700 transition-colors",onClick:()=>m(!d),title:"Ayarlar",children:(0,a.jsx)(o.Z,{size:20})})]})]}),d&&(0,a.jsxs)("div",{className:"container mx-auto mt-4 bg-gray-700 p-4 rounded-md",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"Ekran Ayarları"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Otomatik Yenileme"}),(0,a.jsxs)("select",{className:"w-full bg-gray-600 border border-gray-500 rounded p-2 text-white",value:t.autoRefreshInterval,onChange:e=>s({autoRefreshInterval:Number(e.target.value)}),children:[(0,a.jsx)("option",{value:10,children:"10 saniye"}),(0,a.jsx)("option",{value:30,children:"30 saniye"}),(0,a.jsx)("option",{value:60,children:"1 dakika"}),(0,a.jsx)("option",{value:300,children:"5 dakika"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Sıralama"}),(0,a.jsxs)("select",{className:"w-full bg-gray-600 border border-gray-500 rounded p-2 text-white",value:t.sortBy,onChange:e=>s({sortBy:e.target.value}),children:[(0,a.jsx)("option",{value:"time",children:"Zaman"}),(0,a.jsx)("option",{value:"priority",children:"\xd6ncelik"}),(0,a.jsx)("option",{value:"table",children:"Masa No"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Gruplama"}),(0,a.jsxs)("select",{className:"w-full bg-gray-600 border border-gray-500 rounded p-2 text-white",value:t.groupBy,onChange:e=>s({groupBy:e.target.value}),children:[(0,a.jsx)("option",{value:"none",children:"Gruplama Yok"}),(0,a.jsx)("option",{value:"status",children:"Durum"}),(0,a.jsx)("option",{value:"type",children:"Sipariş Tipi"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Uyarı Eşiği (dk)"}),(0,a.jsx)("input",{type:"number",className:"w-full bg-gray-600 border border-gray-500 rounded p-2 text-white",value:t.alertThreshold,onChange:e=>s({alertThreshold:Number(e.target.value)}),min:1,max:60})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Kritik Eşik (dk)"}),(0,a.jsx)("input",{type:"number",className:"w-full bg-gray-600 border border-gray-500 rounded p-2 text-white",value:t.criticalThreshold,onChange:e=>s({criticalThreshold:Number(e.target.value)}),min:1,max:120})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2 h-5 w-5",checked:t.showCompletedOrders,onChange:e=>s({showCompletedOrders:e.target.checked})}),(0,a.jsx)("span",{children:"Tamamlanan Siparişleri G\xf6ster"})]})})]})]})]})},u=e=>{let{order:t,urgency:s,onSelect:l,onStatusChange:n,onShowDetails:d,viewMode:c}=e,[o,m]=(0,r.useState)(t.items.reduce((e,s,a)=>(e["".concat(t.id,"-").concat(a)]="completed"===s.status,e),{})),u=(e,s)=>{s.stopPropagation();let a="".concat(t.id,"-").concat(e);if(o[a])m(e=>({...e,[a]:!1}));else{let e={...o};t.items.forEach((s,a)=>{e["".concat(t.id,"-").concat(a)]=!0}),m(e)}};return t.status,(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,a.jsxs)("div",{className:"bg-gray-100 px-4 py-2 flex justify-between items-center border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsxs)("span",{className:"font-bold text-gray-700",children:["#",t.orderNumber]}),t.priority>1&&(0,a.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"!"})]}),(0,a.jsxs)("div",{className:"text-gray-500 text-sm flex items-center",children:[(0,a.jsx)(i.Z,{size:14,className:"mr-1"}),(0,a.jsx)("span",{children:(()=>{let e=new Date(t.createdAt).getTime(),s=Math.floor((new Date().getTime()-e)/6e4);return s<60?"".concat(s," dk"):"".concat(Math.floor(s/60)," sa ").concat(s%60," dk")})()})]})]}),(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-gray-200 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"dine-in"===t.type?"Masa: ".concat(t.tableId):"delivery"===t.type?"Kurye: ".concat(t.deliveryAddress?"✓":"?"):"Gelir Merkezi"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"dine-in"===t.type?"Kurye: ".concat(t.waiter||"-"):"".concat(t.customerName||"M\xfcşteri")})]}),(0,a.jsx)("div",{className:"px-4 py-3",children:(0,a.jsx)("ul",{className:"space-y-3",children:t.items.map((e,s)=>(0,a.jsxs)("li",{className:"flex justify-between items-center",onClick:e=>u(s,e),children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-gray-700 font-medium mr-2",children:e.quantity}),(0,a.jsx)("span",{className:o["".concat(t.id,"-").concat(s)]?"text-gray-400":"text-gray-800",children:e.name})]}),(0,a.jsx)("div",{className:"w-6 h-6",children:o["".concat(t.id,"-").concat(s)]&&(0,a.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full"})})]},s))})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[(0,a.jsx)("div",{}),(0,a.jsxs)("div",{className:"flex space-x-2",children:["pending"===t.status&&(0,a.jsx)("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded-md text-sm font-medium",onClick:e=>{e.stopPropagation(),n(t.id,"in-progress")},children:"Hazırla"}),"in-progress"===t.status&&(0,a.jsx)("button",{className:"bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-2 rounded-md text-sm font-medium",onClick:e=>{e.stopPropagation(),n(t.id,"ready")},children:"Hazırlandı"})]})]})]})},x=e=>{let{groupedOrders:t,onStatusChange:s,onShowDetails:r,settings:i}=e,l=e=>{let t=new Date(e.createdAt).getTime(),s=Math.floor((new Date().getTime()-t)/6e4);return s>=i.criticalThreshold?"critical":s>=i.alertThreshold?"warning":"normal"},n=e=>({pending:"Beklemede","in-progress":"Hazırlanıyor",ready:"Hazır",completed:"Tamamlandı",cancelled:"İptal Edildi","dine-in":"Masa Servis",takeaway:"Paket Servis",delivery:"Kurye","All Orders":"T\xfcm Siparişler"})[e]||e;return(0,a.jsxs)("div",{className:"space-y-8",children:[Object.entries(t).map(e=>{let[t,d]=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[n(t),(0,a.jsx)("span",{className:"ml-2 bg-gray-200 text-gray-700 px-2 py-0.5 rounded-full text-sm",children:d.length})]}),(0,a.jsx)("div",{className:"grid ".concat("grid"===i.viewMode?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-6":"grid-cols-1 gap-4"),children:d.map(e=>(0,a.jsx)(u,{order:e,urgency:l(e),onSelect:()=>{},onShowDetails:r,onStatusChange:s,viewMode:i.viewMode},e.id))})]},t)}),0===Object.keys(t).length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"G\xf6sterilecek sipariş bulunamadı."}),(0,a.jsx)("p",{className:"text-gray-400",children:"Filtrelerinizi değiştirmeyi deneyin."})]})]})},p=s(52235),h=s(62457),y=s(11213);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,d.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var b=s(63915),j=s(30438),f=e=>{let{order:t,onStatusChange:s,onClose:l,isModal:n=!1}=e,[d,c]=(0,r.useState)(t.items.reduce((e,s,a)=>(e["".concat(t.id,"-").concat(a)]="completed"===s.status,e),{})),o=e=>({pending:"Beklemede","in-progress":"Hazırlanıyor",ready:"Hazır",completed:"Tamamlandı",cancelled:"İptal Edildi"})[e]||e,m=e=>({"dine-in":"Masa Servis",takeaway:"Paket Servis",delivery:"Kurye"})[e]||e,u=()=>{let e=new Date(t.createdAt).getTime(),s=Math.floor((new Date().getTime()-e)/6e4);return s<60?"".concat(s," dakika \xf6nce"):"".concat(Math.floor(s/60)," saat ").concat(s%60," dakika \xf6nce")},x=e=>{let s="".concat(t.id,"-").concat(e);if(d[s])c(e=>({...e,[s]:!1}));else{let e={...d};t.items.forEach((s,a)=>{e["".concat(t.id,"-").concat(a)]=!0}),c(e)}},f=()=>t.items.every((e,s)=>d["".concat(t.id,"-").concat(s)]),v={pending:"in-progress","in-progress":"ready",ready:"completed",completed:"completed",cancelled:"cancelled"}[t.status]||null,N=v?o(v):null;if(n)return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:l,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-auto",onClick:e=>{n&&e.stopPropagation()},children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["Sipariş #",t.orderNumber," Detayları"]}),(0,a.jsx)("button",{className:"p-1 rounded-full hover:bg-gray-100",onClick:l,"aria-label":"Kapat",children:(0,a.jsx)(p.Z,{size:24})})]}),(0,a.jsx)("div",{className:"p-6",children:k()})]})});return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["Sipariş #",t.orderNumber]}),(0,a.jsx)("button",{className:"p-1 rounded-full hover:bg-gray-100",onClick:l,"aria-label":"Kapat",children:(0,a.jsx)(p.Z,{size:24})})]}),(0,a.jsx)("div",{className:"p-6 overflow-auto flex-1",children:k()})]});function k(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"\n                inline-flex items-center px-3 py-1 rounded-full text-sm font-medium\n                ".concat("pending"===t.status?"bg-gray-100 text-gray-800":"","\n                ").concat("in-progress"===t.status?"bg-blue-100 text-blue-800":"","\n                ").concat("ready"===t.status?"bg-green-100 text-green-800":"","\n                ").concat("completed"===t.status?"bg-purple-100 text-purple-800":"","\n                ").concat("cancelled"===t.status?"bg-red-100 text-red-800":"","\n              "),children:o(t.status)}),t.priority>1&&(0,a.jsx)("span",{className:"ml-2 bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:"\xd6ncelikli"})]}),(0,a.jsxs)("div",{className:"flex items-center text-gray-500",children:[(0,a.jsx)(i.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{children:u()})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs mr-2",children:m(t.type)}),"dine-in"===t.type?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Z,{size:16,className:"mr-1"}),(0,a.jsxs)("span",{className:"font-medium",children:["Masa ",t.tableId]})]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"font-medium",children:t.customerName||"M\xfcşteri"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Sipariş Zamanı: ",new Date(t.createdAt).toLocaleTimeString("tr-TR")]})]}),t.notes&&(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 text-sm",children:[(0,a.jsx)("div",{className:"font-medium mb-1 text-yellow-800",children:"Sipariş Notu:"}),(0,a.jsx)("p",{className:"text-gray-700",children:t.notes})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Sipariş İ\xe7eriği"})}),(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\xdcr\xfcn"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Adet"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fiyat"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durum"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.items.map((e,s)=>(0,a.jsxs)("tr",{className:d["".concat(t.id,"-").concat(s)]?"bg-green-50":"",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.options&&e.options.length>0&&(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:Array.isArray(e.options)&&e.options.map((e,t)=>(0,a.jsx)("span",{className:"mr-2",children:"string"==typeof e?e:"".concat(e.name,": ").concat(e.value)},t))})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.quantity})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[(e.price*e.quantity).toFixed(2)," ₺"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("button",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ".concat(d["".concat(t.id,"-").concat(s)]?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"),onClick:()=>x(s),children:[(0,a.jsx)(g,{size:14,className:"mr-1"}),d["".concat(t.id,"-").concat(s)]?"Hazır":"Hazırla"]})})]},s))}),(0,a.jsx)("tfoot",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{colSpan:2,className:"px-6 py-3 text-right text-sm font-medium text-gray-500",children:"Toplam:"}),(0,a.jsxs)("td",{className:"px-6 py-3 text-left text-sm font-medium text-gray-900",children:[t.items.reduce((e,t)=>e+t.price*t.quantity,0).toFixed(2)," ₺"]}),(0,a.jsx)("td",{})]})})]})})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",onClick:()=>{},children:[(0,a.jsx)(b.Z,{size:16,className:"mr-2"}),"Yazdır"]}),(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",onClick:()=>{},children:[(0,a.jsx)(j.Z,{size:16,className:"mr-2"}),"Mesaj G\xf6nder"]})]}),v&&(0,a.jsxs)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ".concat(f()?"bg-green-600 hover:bg-green-700":"bg-blue-600 hover:bg-blue-700"),onClick:()=>{v&&s(t.id,v)},children:[(0,a.jsx)(g,{size:16,className:"mr-2"}),N]})]})]})}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let v=(0,d.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var N=e=>{let{filters:t,onFiltersChange:s}=e,r=(e,a)=>{let r=t[e];s({[e]:r.includes(a)?r.filter(e=>e!==a):[...r,a]})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v,{size:18,className:"mr-2 text-gray-500"}),(0,a.jsx)("h2",{className:"text-lg font-medium",children:"Filtreler"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-2 text-gray-700",children:"Sipariş Durumu"}),(0,a.jsx)("div",{className:"space-y-2",children:[{id:"pending",label:"Beklemede"},{id:"in-progress",label:"Hazırlanıyor"},{id:"ready",label:"Hazır"}].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:t.status.includes(e.id),onChange:()=>r("status",e.id)}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.id))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium mb-2 text-gray-700",children:"Sipariş Tipi"}),(0,a.jsx)("div",{className:"space-y-2",children:[{id:"dine-in",label:"Masa Servis"},{id:"takeaway",label:"Paket Servis"},{id:"delivery",label:"Kurye"}].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2 h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500",checked:t.orderTypes.includes(e.id),onChange:()=>r("orderTypes",e.id)}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:e.label})]},e.id))})]})]})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let k=(0,d.Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]),w=(0,d.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var M=e=>{let{orders:t}=e,s=t.length,r=t.filter(e=>"pending"===e.status).length,l=t.filter(e=>"in-progress"===e.status).length,n=t.filter(e=>"ready"===e.status).length,d=e=>{if("ready"===e.status||"completed"===e.status){let t=new Date(e.createdAt).getTime();return Math.floor((new Date(e.lastUpdated).getTime()-t)/6e4)}return 0},c=t.filter(e=>"ready"===e.status||"completed"===e.status),o=c.reduce((e,t)=>e+d(t),0),m=c.length>0?Math.floor(o/c.length):0,u=t.filter(e=>{if("completed"===e.status)return!1;let t=new Date(e.createdAt).getTime();return Math.floor((new Date().getTime()-t)/6e4)>20}).length;return(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(k,{size:18,className:"mr-2 text-gray-500"}),(0,a.jsx)("h2",{className:"text-lg font-medium",children:"İstatistikler"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Toplam Sipariş"}),(0,a.jsx)("span",{className:"font-medium",children:s})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:(0,a.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:"100%"}})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,a.jsx)("div",{className:"text-yellow-500 font-medium",children:r}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Beklemede"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,a.jsx)("div",{className:"text-blue-500 font-medium",children:l}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Hazırlanıyor"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-2 rounded",children:[(0,a.jsx)("div",{className:"text-green-500 font-medium",children:n}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Hazır"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,a.jsx)(i.Z,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:"Ortalama Hazırlama"})]}),(0,a.jsxs)("span",{className:"font-medium",children:[m," dk"]})]}),u>0&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-red-600",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(w,{size:16,className:"mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:"Geciken Siparişler"})]}),(0,a.jsx)("span",{className:"font-medium",children:u})]})]})]})};let z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,t=new Date;return t.setMinutes(t.getMinutes()-(Math.floor(Math.random()*e)+1)),t.toISOString()},I=[{id:"1",orderNumber:"1001",tableId:"12",status:"pending",type:"dine-in",items:[{productId:"p1",name:"Karışık Pizza",price:120,quantity:1,status:"pending",options:["İnce Hamur","Ekstra Peynir"]},{productId:"p2",name:"Coca Cola",price:15,quantity:2,status:"pending"}],createdAt:z(15),lastUpdated:z(10),priority:1,waiter:"Ahmet Yılmaz"},{id:"2",orderNumber:"1002",tableId:"5",status:"in-progress",type:"dine-in",items:[{productId:"p3",name:"K\xf6fte Porsiyon",price:85,quantity:1,status:"in-progress",notes:"Az pişmiş olsun"},{productId:"p4",name:"Pilav",price:25,quantity:1,status:"completed"},{productId:"p5",name:"Ayran",price:10,quantity:1,status:"completed"}],createdAt:z(30),lastUpdated:z(5),notes:"M\xfcşteri acele ediyor",priority:2,waiter:"Mehmet Demir"},{id:"3",orderNumber:"1003",tableId:"0",customerName:"Ali Yılmaz",status:"ready",type:"takeaway",items:[{productId:"p6",name:"Tavuk D\xf6ner D\xfcr\xfcm",price:45,quantity:2,status:"completed"},{productId:"p7",name:"Patates Kızartması",price:20,quantity:1,status:"completed"}],createdAt:z(25),lastUpdated:z(2),priority:1},{id:"4",orderNumber:"1004",tableId:"0",customerName:"Ayşe Kaya",deliveryAddress:"Atat\xfcrk Mah. Cumhuriyet Cad. No:12 D:5",status:"pending",type:"delivery",items:[{productId:"p8",name:"Adana Kebap",price:90,quantity:1,status:"pending"},{productId:"p9",name:"Lahmacun",price:25,quantity:2,status:"pending"},{productId:"p10",name:"Baklava",price:45,quantity:1,status:"pending"}],createdAt:z(10),lastUpdated:z(10),notes:"Kapıda kredi kartı ile \xf6deme yapılacak",priority:1},{id:"5",orderNumber:"1005",tableId:"8",status:"in-progress",type:"dine-in",items:[{productId:"p11",name:"İskender",price:95,quantity:1,status:"in-progress"},{productId:"p12",name:"\xc7oban Salata",price:30,quantity:1,status:"completed"}],createdAt:z(45),lastUpdated:z(15),priority:1,waiter:"Zeynep Şahin"},{id:"6",orderNumber:"1006",tableId:"3",status:"completed",type:"dine-in",items:[{productId:"p13",name:"Mantı",price:65,quantity:2,status:"completed"},{productId:"p14",name:"Mercimek \xc7orbası",price:25,quantity:2,status:"completed"}],createdAt:z(120),lastUpdated:z(30),priority:1,waiter:"Ahmet Yılmaz"},{id:"7",orderNumber:"1007",tableId:"0",customerName:"Mustafa Demir",status:"cancelled",type:"takeaway",items:[{productId:"p15",name:"Hamburger",price:55,quantity:1,status:"pending"}],createdAt:z(60),lastUpdated:z(55),notes:"M\xfcşteri iptal etti",priority:1},{id:"8",orderNumber:"1008",tableId:"15",status:"pending",type:"dine-in",items:[{productId:"p16",name:"Karışık Izgara",price:150,quantity:1,status:"pending"},{productId:"p17",name:"Cacık",price:20,quantity:1,status:"pending"},{productId:"p18",name:"K\xfcnefe",price:40,quantity:1,status:"pending"}],createdAt:z(5),lastUpdated:z(5),priority:1,waiter:"Mehmet Demir"},{id:"9",orderNumber:"1009",tableId:"0",customerName:"Fatma Yıldız",deliveryAddress:"Bah\xe7elievler Mah. G\xfcl Sok. No:5",status:"in-progress",type:"delivery",items:[{productId:"p19",name:"Tavuk Şiş",price:75,quantity:2,status:"in-progress"},{productId:"p20",name:"Ayran",price:10,quantity:2,status:"completed"}],createdAt:z(35),lastUpdated:z(20),priority:1},{id:"10",orderNumber:"1010",tableId:"7",status:"ready",type:"dine-in",items:[{productId:"p21",name:"Pide",price:50,quantity:3,status:"completed"},{productId:"p22",name:"Şalgam",price:12,quantity:3,status:"completed"}],createdAt:z(40),lastUpdated:z(1),priority:1,waiter:"Zeynep Şahin"}];var S=()=>{let[e,t]=(0,r.useState)(I),[s,i]=(0,r.useState)(null),[l,n]=(0,r.useState)(!1),[d,c]=(0,r.useState)({showCompletedOrders:!1,autoRefreshInterval:30,sortBy:"time",groupBy:"status",viewMode:"grid",alertThreshold:10,criticalThreshold:20}),[o,u]=(0,r.useState)({status:["pending","in-progress","ready"],orderTypes:["dine-in","takeaway","delivery"],timeRange:"all"});(0,r.useEffect)(()=>{let e=setInterval(()=>{t(e=>e.map(e=>({...e,lastUpdated:new Date().toISOString()})))},1e3*d.autoRefreshInterval);return()=>clearInterval(e)},[d.autoRefreshInterval]);let p=e.filter(e=>!!(o.status.includes(e.status)&&o.orderTypes.includes(e.type))&&("completed"!==e.status||!!d.showCompletedOrders)),h=[...p].sort((e,t)=>"time"===d.sortBy?new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime():"priority"===d.sortBy?t.priority-e.priority:"table"===d.sortBy?e.tableId.localeCompare(t.tableId):0),y="none"===d.groupBy?{"All Orders":h}:h.reduce((e,t)=>{let s="status"===d.groupBy?t.status:"type"===d.groupBy?t.type:"Other";return e[s]||(e[s]=[]),e[s].push(t),e},{}),g=(e,a)=>{t(t=>t.map(t=>t.id===e?{...t,status:a,lastUpdated:new Date().toISOString()}:t)),s&&s.id===e&&i(e=>e?{...e,status:a,lastUpdated:new Date().toISOString()}:null)};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-100",children:[(0,a.jsx)(m,{settings:d,onSettingsChange:e=>{c(t=>({...t,...e}))}}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex flex-col w-52 bg-white border-r border-gray-200 p-4",children:[(0,a.jsx)(N,{filters:o,onFiltersChange:e=>{u(t=>({...t,...e}))}}),(0,a.jsx)("div",{className:"mt-auto",children:(0,a.jsx)(M,{orders:p})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(x,{groupedOrders:y,onShowDetails:e=>{i(e),n(!0)},onStatusChange:g,settings:d})}),l&&s&&(0,a.jsx)(f,{order:s,onStatusChange:g,onClose:()=>{n(!1)},isModal:!0})]})]})};function C(){return(0,a.jsx)(S,{})}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=98610)}),_N_E=e.O()}]);