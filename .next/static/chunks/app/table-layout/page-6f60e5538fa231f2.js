(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5741],{49697:function(e,t,a){Promise.resolve().then(a.bind(a,89740))},87461:function(e,t,a){"use strict";a.d(t,{Z:function(){return l}});var s=a(64090),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:h="",children:u,...m}=a;return(0,s.createElement)("svg",{ref:l,...r,width:o,height:o,stroke:i,strokeWidth:d?24*Number(c)/Number(o):c,className:["lucide","lucide-".concat(n(e)),h].join(" "),...m},[...t.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(u)?u:[u]])});return a.displayName="".concat(e),a}},97307:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},26490:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},35005:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},82461:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]])},11213:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},34059:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(87461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},47907:function(e,t,a){"use strict";var s=a(15313);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},89740:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var s=a(3827),r=a(64090),n=a(47907),l=a(87461);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,l.Z)("Palmtree",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35z",key:"epoumf"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]);var o=a(35005);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,l.Z)("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);var d=a(82461),h=a(97307),u=a(34059),m=a(26490),x=a(11213),p=e=>{var t;let{table:a,onClick:r}=e,n={transform:"translate(-50%, -50%) rotate(".concat(a.position.rotation||0,"deg)"),position:"absolute",left:"".concat(a.position.x,"%"),top:"".concat(a.position.y,"%"),transformOrigin:"center center"},l={transform:"rotate(".concat(-(a.position.rotation||0),"deg)")};return(0,s.jsx)("div",{style:n,onClick:()=>r(a.number),className:"\n        cursor-pointer transform hover:scale-105\n        ".concat("occupied"===a.status?"bg-blue-900/90 border-blue-400/50 hover:bg-blue-800/90":"bg-gray-100/5 border-gray-300/20 hover:bg-gray-100/10","\n        ").concat(((e,t)=>{let a="transition-all duration-300 border-2",s={small:"w-20 h-20",medium:"w-24 h-24",large:"w-28 h-28"}[t];switch(e){case"round":return"".concat(a," ").concat(s," rounded-full");case"oval":return"".concat(a," ").concat(s," rounded-full scale-x-150");case"rectangle":return"".concat(a," ").concat(s," rounded-lg scale-x-150");default:return"".concat(a," ").concat(s," rounded-lg")}})(a.shape,a.size),"\n      "),children:(0,s.jsx)("div",{style:l,className:"relative h-full flex flex-col items-center justify-center",children:"occupied"===a.status&&a.occupiedInfo?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute -top-1 -left-1",children:(0,s.jsxs)("div",{className:"bg-blue-800/50 rounded px-1.5 py-0.5 flex items-center space-x-1",children:[(0,s.jsx)(u.Z,{size:12,className:"text-blue-300"}),(0,s.jsxs)("span",{className:"text-white text-xs font-medium",children:[a.occupiedInfo.currentGuests,"/",a.seats]})]})}),(0,s.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,s.jsxs)("div",{className:"bg-blue-800/40 rounded px-1.5 py-0.5 flex items-center space-x-1",children:[(0,s.jsx)(m.Z,{size:12,className:"text-blue-300"}),(0,s.jsx)("span",{className:"text-white text-xs font-medium",children:(t=a.occupiedInfo.occupiedTime,"".concat(Math.floor(t/60),"s ").concat(t%60,"d"))})]})}),(0,s.jsx)("span",{className:"text-xl font-bold text-white mb-0.5",children:a.number}),(0,s.jsxs)("div",{className:"bg-blue-800/30 rounded px-1.5 py-0.5 flex items-center space-x-1",children:[(0,s.jsx)(x.Z,{size:12,className:"text-blue-300"}),(0,s.jsx)("span",{className:"text-xs font-medium text-white",children:a.occupiedInfo.waiter})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-lg font-bold text-gray-400",children:a.number}),(0,s.jsx)("div",{className:"text-center mt-0.5",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-1",children:[(0,s.jsx)(u.Z,{size:12,className:"text-gray-500"}),(0,s.jsxs)("span",{className:"text-gray-400 text-xs",children:[a.seats," Kişilik"]})]})})]})})})},g=e=>{let{sectionStats:t,restaurantStats:a}=e,r=(e,t)=>t>0?Math.round(e/t*100):0,n=e=>{let t=Math.floor(e/60),a=e%60;return t>0?"".concat(t," sa ").concat(a," dk"):"".concat(a," dk")};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/10 rounded-md p-2 border border-blue-500/20",children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-gray-300 mb-1",children:"B\xf6l\xfcm Doluluk"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-lg font-semibold text-white",children:[r(t.occupiedSeats,t.totalSeats),"%"]}),(0,s.jsxs)("div",{className:"text-[10px] text-gray-400 mt-0.5 flex items-center gap-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-300",children:"\xd8 Oturma S\xfcresi:"}),(0,s.jsx)("span",{children:n(45)})]})]})})]}),(0,s.jsxs)("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/10 rounded-md p-2 border border-emerald-500/20",children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-gray-300 mb-1",children:"Restoran Doluluk"}),(0,s.jsx)("div",{className:"grid grid-cols-1 gap-2",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-lg font-semibold text-white",children:[r(a.occupiedSeats,a.totalSeats),"%"]}),(0,s.jsxs)("div",{className:"text-[10px] text-gray-400 mt-0.5 flex items-center gap-1",children:[(0,s.jsx)("span",{className:"font-semibold text-gray-300",children:"\xd8 Oturma S\xfcresi:"}),(0,s.jsx)("span",{children:n(45)})]})]})})]})]})};let f={small:{width:80,height:80},medium:{width:96,height:96},large:{width:112,height:112}},b=["round","rectangle","square","oval"],y=["small","medium","large"],v=(e,t)=>{let a=f[e.size],s=f[t.size],r="rectangle"===e.shape||"oval"===e.shape?1.5*a.width:a.width,n="rectangle"===t.shape||"oval"===t.shape?1.5*s.width:s.width,l=e.position.x/100*window.innerWidth,i=e.position.y/100*window.innerHeight,o=t.position.x/100*window.innerWidth,c=t.position.y/100*window.innerHeight,d={x:l+r/2,y:i+a.height/2},h={x:o+n/2,y:c+s.height/2};return Math.sqrt(Math.pow(h.x-d.x,2)+Math.pow(h.y-d.y,2))<Math.max(Math.max(r,a.height),Math.max(n,s.height))/2+48},j=(e,t)=>{let a=0,s=[{x:10,y:10,width:35,height:35},{x:55,y:10,width:35,height:35},{x:10,y:55,width:35,height:35},{x:55,y:55,width:35,height:35}];for(;a<100;){let r=s[Math.floor(Math.random()*s.length)],n={x:r.x+Math.random()*r.width,y:r.y+Math.random()*r.height,rotation:45*Math.floor(8*Math.random())},l={...t,position:n};if(!e.some(e=>v(e,l)))return n;a++}let r=Math.ceil(Math.sqrt(e.length+1)),n=e.length;return{x:n%r/r*70+15+5*Math.random(),y:Math.floor(n/r)/r*70+15+5*Math.random(),rotation:45*Math.floor(8*Math.random())}},w=[{id:"garden",name:"Bah\xe7e",icon:i,tableCount:12,prefix:"B"},{id:"salon",name:"Salon",icon:o.Z,tableCount:14,prefix:"S"},{id:"basement",name:"Alt Kat",icon:c,tableCount:10,prefix:"A"},{id:"terrace",name:"Teras",icon:c,tableCount:10,prefix:"T"},{id:"roof",name:"\xc7atı Katı",icon:o.Z,tableCount:5,prefix:"R"}],M=(e,t)=>{let a=[];for(let s=0;s<e;s++){let e=b[Math.floor(Math.random()*b.length)],r=y[Math.floor(Math.random()*y.length)],n="round"===e?4:6;"small"===r&&(n-=2),"large"===r&&(n+=2),("rectangle"===e||"oval"===e)&&(n+=2);let l={id:s+1,number:"".concat(t).concat(s+1),shape:e,size:r,seats:n,status:Math.random()>.6?"occupied":"empty"},i=j(a,l);a.push({...l,position:i,occupiedInfo:Math.random()>.6?{waiter:["Ahmet","Mehmet","Ayşe","Fatma","Ali","Zeynep","Can","Elif"][Math.floor(8*Math.random())],occupiedTime:Math.floor(180*Math.random()),currentGuests:Math.floor(Math.random()*(n-1))+1}:void 0})}return a};var k=()=>{var e,t,a,l,o;let c=(0,n.useRouter)(),[u,m]=(0,r.useState)([]),[x,f]=(0,r.useState)("garden");(0,r.useEffect)(()=>{m(w.map(e=>({...e,tables:M(e.tableCount,e.prefix)})))},[]);let b=u.find(e=>e.id===x)||u[0]||{id:"",name:"",icon:i,tables:[]},y=e=>{c.push("/order/".concat(e))};return(0,s.jsxs)("div",{className:"flex h-[calc(100vh-7rem)]",children:[(0,s.jsx)("div",{className:"flex-1 relative bg-gray-900/10 rounded-lg m-2 bg-cover bg-center bg-no-repeat overflow-hidden",style:{backgroundImage:"linear-gradient(to bottom, rgba(17, 24, 39, 0.7), rgba(17, 24, 39, 0.65)), url('/images/restaurant-bg.jpg')",backgroundBlendMode:"multiply"},children:(0,s.jsx)("div",{className:"absolute inset-0 p-4",children:null===(e=b.tables)||void 0===e?void 0:e.map(e=>(0,s.jsx)(p,{table:e,onClick:y},e.number))})}),(0,s.jsxs)("div",{className:"w-48 bg-gray-900/90 border-l border-gray-800 flex flex-col",children:[(0,s.jsxs)("div",{className:"p-3 space-y-3 flex-1",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-white mb-1",children:"B\xf6l\xfcmler"}),(0,s.jsx)("div",{className:"flex flex-col gap-1",children:u.map(e=>(0,s.jsxs)("button",{onClick:()=>f(e.id),className:"flex items-center gap-1.5 px-2 py-1.5 rounded transition-colors text-sm ".concat(x===e.id?"bg-blue-600 text-white":"text-gray-400 hover:bg-gray-800/50 hover:text-white"),children:[(0,s.jsx)(e.icon,{size:14}),(0,s.jsx)("span",{children:e.name})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-gray-800/50 p-2 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-white mb-2",children:b.name}),(0,s.jsx)(g,{sectionStats:{occupiedTables:(null===(t=b.tables)||void 0===t?void 0:t.filter(e=>"occupied"===e.status).length)||0,totalTables:(null===(a=b.tables)||void 0===a?void 0:a.length)||0,occupiedSeats:(null===(l=b.tables)||void 0===l?void 0:l.reduce((e,t)=>{var a;return e+((null===(a=t.occupiedInfo)||void 0===a?void 0:a.currentGuests)||0)},0))||0,totalSeats:(null===(o=b.tables)||void 0===o?void 0:o.reduce((e,t)=>e+t.seats,0))||0},restaurantStats:{occupiedTables:u.flatMap(e=>e.tables).filter(e=>"occupied"===e.status).length,totalTables:u.flatMap(e=>e.tables).length,occupiedSeats:u.flatMap(e=>e.tables).reduce((e,t)=>{var a;return e+((null===(a=t.occupiedInfo)||void 0===a?void 0:a.currentGuests)||0)},0),totalSeats:u.flatMap(e=>e.tables).reduce((e,t)=>e+t.seats,0)}})]})]}),(0,s.jsxs)("div",{className:"p-3 space-y-1.5 border-t border-gray-800",children:[(0,s.jsxs)("button",{onClick:()=>c.push("/takeaway"),className:"w-full flex items-center justify-center gap-1.5 p-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:[(0,s.jsx)(d.Z,{size:16}),(0,s.jsx)("span",{children:"Hesap Yazdır"})]}),(0,s.jsxs)("button",{className:"w-full flex items-center justify-center gap-1.5 p-2 bg-purple-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,s.jsx)(h.Z,{size:16}),(0,s.jsx)("span",{children:"İsme \xc7ek A\xe7ma"})]}),(0,s.jsxs)("button",{className:"w-full flex items-center justify-center gap-1.5 p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[(0,s.jsx)(h.Z,{size:16}),(0,s.jsx)("span",{children:"Rezervasyonlar"})]})]})]})]})};function N(){return(0,s.jsx)(k,{})}}},function(e){e.O(0,[2971,8069,1744],function(){return e(e.s=49697)}),_N_E=e.O()}]);