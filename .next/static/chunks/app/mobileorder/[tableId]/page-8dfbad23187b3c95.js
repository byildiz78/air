(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6139],{7963:function(e,s,i){Promise.resolve().then(i.bind(i,65748))},65748:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return R}});var a=i(3827),t=i(64090),r=i(47907),l=i(49108),n=e=>{let{title:s,onBack:i}=e;return(0,a.jsxs)("div",{className:"flex items-center bg-white border-b border-gray-200 py-1.5 px-2",children:[(0,a.jsx)("button",{onClick:i,className:"p-1 rounded-full hover:bg-gray-100 mr-2",children:(0,a.jsx)(l.Z,{size:20})}),(0,a.jsx)("h1",{className:"text-lg font-semibold",children:s})]})},d=i(33571),o=i(89142),c=i(57197),m=i(24082),u=i(24669),x=i(34487),p=i(20948),b=i(28670),h=i(52235),g=i(3665),f=i(25491),y=e=>{let{products:s,selectedProduct:i,orderItems:t,onProductSelect:r,onBarcodeSubmit:l,onSearch:n,searchQuery:y,categories:j,onCategorySelect:v,selectedCategory:N}=e,w=e=>{var s;if(i===e.id)return"bg-blue-600 border-blue-400 text-white";if(e.isCombo)return"bg-gradient-to-br from-indigo-50 to-purple-50 border-purple-200 text-purple-800 hover:from-indigo-100 hover:to-purple-100";switch(null===(s=e.category)||void 0===s?void 0:s.toLowerCase()){case"i\xe7ecek":case"icecek":case"beverages":return"bg-emerald-50 border-emerald-200 text-emerald-800 hover:bg-emerald-100";case"tatlı":case"tatli":case"dessert":return"bg-pink-50 border-pink-200 text-pink-800 hover:bg-pink-100";case"ana yemek":case"pizza":case"main":return"bg-amber-50 border-amber-200 text-amber-800 hover:bg-amber-100";case"salata":return"bg-lime-50 border-lime-200 text-lime-800 hover:bg-lime-100";case"\xe7orba":case"corba":return"bg-orange-50 border-orange-200 text-orange-800 hover:bg-orange-100";case"kahvaltı":case"kahvalti":return"bg-yellow-50 border-yellow-200 text-yellow-800 hover:bg-yellow-100";default:return"bg-white border-gray-300 text-gray-800 hover:bg-gray-50"}},k=e=>{let s=e.name.toLowerCase();return s.includes("i\xe7ecek")||s.includes("icecek")||s.includes("beverages")?d.Z:s.includes("tatlı")||s.includes("tatli")||s.includes("dessert")?o.Z:s.includes("pizza")||s.includes("ana yemek")||s.includes("main")?c.Z:s.includes("salata")?m.Z:s.includes("\xe7orba")||s.includes("corba")?u.Z:s.includes("kahvaltı")||s.includes("kahvalti")?x.Z:p.Z};return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-gray-50",children:[(0,a.jsxs)("div",{className:"p-4 bg-white border-b border-gray-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"\xdcr\xfcn ara (isim, barkod veya kategori)",value:y,onChange:e=>n(e.target.value),className:"w-full p-3 pl-10 pr-10 bg-gray-50 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"}),(0,a.jsx)(b.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-blue-500",size:20}),y&&(0,a.jsx)(f.E.button,{onClick:()=>n(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100",whileTap:{scale:.9},children:(0,a.jsx)(h.Z,{size:16})})]}),y&&(0,a.jsxs)(f.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-blue-600 font-medium",children:['Arama sonu\xe7ları: "',y,'" (',s.length," \xfcr\xfcn)"]})]}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,a.jsx)("div",{className:"overflow-x-auto py-2",children:(0,a.jsx)("div",{className:"flex px-4 space-x-3 min-w-max",children:j.map(e=>{let s=N.id===e.id,i=k(e);return(0,a.jsxs)(f.E.button,{className:"px-4 py-2.5 rounded-lg flex items-center gap-2 whitespace-nowrap transition-all\n                    ".concat(s?"bg-blue-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"),onClick:()=>v(e),whileHover:{scale:1.03},whileTap:{scale:.97},children:[(0,a.jsx)(i,{size:18}),(0,a.jsx)("span",{className:"font-medium",children:e.name})]},e.id)})})})}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-3",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:s.map((e,s)=>{let l=t.find(s=>s.productId===e.id),n=i===e.id;return(0,a.jsxs)(f.E.button,{onClick:()=>r(e),className:"relative rounded-xl border shadow-sm overflow-hidden ".concat(e.isCombo?"border-purple-300":"border-gray-200"," text-left\n                  ").concat(w(e)),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*s},whileHover:{scale:1.02,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},whileTap:{scale:.98},children:[(null==l?void 0:l.quantity)&&(0,a.jsx)("div",{className:"absolute top-2 right-2 min-w-5 h-5  rounded-full flex items-center justify-center text-xs font-bold bg-blue-500 text-white shadow-sm px-1.5",children:l.quantity}),(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"p-3 pb-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("span",{className:"font-medium text-sm line-clamp-2",children:e.name}),e.isCombo&&(0,a.jsxs)("div",{className:"bg-purple-100 text-purple-800 text-xs px-1.5 py-0.5 rounded-full border border-purple-200 flex items-center ml-1",children:[(0,a.jsx)(g.Z,{size:10,className:"mr-0.5"}),(0,a.jsx)("span",{children:"Combo"})]})]})}),(0,a.jsxs)("div",{className:"mt-auto p-3 pt-1 flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm font-bold",children:[e.price.toFixed(2)," ₺"]}),!(null==l?void 0:l.quantity)&&(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-300"})]})]}),n&&(0,a.jsx)("div",{className:"absolute inset-0 border-2 border-blue-500 rounded-xl pointer-events-none"})]},e.id)})})})]})},j=i(30438),v=e=>{let{orderItems:s,payments:i,tableId:r,checkDiscount:l,onIncrement:n,onDecrement:d,onPayment:o,onBarcodeSubmit:c,onCheckDiscount:m,onClose:u,onOpenMessageModal:x,productMessageSelections:p,productMessages:b}=e,[h,g]=t.useState({}),f=s.reduce((e,s)=>e+s.price*s.quantity,0)-l;return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-gray-50",children:[(0,a.jsxs)("div",{className:"bg-white p-3 border-b border-gray-200 flex justify-between items-center sticky top-0 z-10",children:[(0,a.jsxs)("h2",{className:"text-lg font-bold",children:["Sepet - Masa ",r]}),(0,a.jsx)("button",{onClick:u,className:"text-gray-500 hover:text-gray-700",children:"Kapat"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-2 pb-36",children:0===s.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[(0,a.jsx)("p",{children:"Sepetiniz boş"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"\xdcr\xfcn eklemek i\xe7in \xfcr\xfcnlere tıklayın"})]}):(0,a.jsx)("div",{className:"space-y-2",children:s.map((e,s)=>{var i,t;let r=e.isCombo&&e.comboDetails;return null===(i=p[e.productId])||void 0===i||i.length,h[e.productId],(0,a.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.price.toFixed(2)," ₺ \xd7 ",e.quantity," = ",(e.price*e.quantity).toFixed(2)," ₺"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("button",{onClick:()=>d(e.productId),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:"-"}),(0,a.jsx)("span",{className:"w-6 text-center font-medium",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>n(e.productId),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200",children:"+"}),(0,a.jsx)("button",{onClick:()=>x(e.productId),className:"w-8 h-8 flex items-center justify-center rounded-full bg-blue-100 text-blue-600 hover:bg-blue-200 ml-1",title:"\xdcr\xfcn mesajı ekle",children:(0,a.jsx)(j.Z,{size:16})})]})]}),(null===(t=p[e.productId])||void 0===t?void 0:t.length)>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:p[e.productId].map(e=>{let s=b.find(s=>s.id===e);return s?(0,a.jsx)("span",{className:"px-2 py-0.5 rounded bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100",children:s.name},e):null})}),r&&e.comboDetails&&(0,a.jsx)("div",{className:"mt-2 border-t border-gray-200 pt-2",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xs font-medium text-purple-700 mr-2",children:"Men\xfc:"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.comboDetails.mainItem&&(0,a.jsx)("span",{className:"text-xs bg-purple-50 text-purple-700 px-1.5 py-0.5 rounded border border-purple-100",children:e.comboDetails.mainItem.name}),e.comboDetails.sides&&e.comboDetails.sides.map((e,s)=>(0,a.jsx)("span",{className:"text-xs bg-amber-50 text-amber-700 px-1.5 py-0.5 rounded border border-amber-100",children:e.name},s)),e.comboDetails.drinks&&e.comboDetails.drinks.map((e,s)=>(0,a.jsx)("span",{className:"text-xs bg-emerald-50 text-emerald-700 px-1.5 py-0.5 rounded border border-emerald-100",children:e.name},s))]})]})})]})},e.productId)})})}),(0,a.jsx)("div",{className:"fixed bottom-[104px] left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-10",children:(0,a.jsxs)("div",{className:"p-0",children:[l>0&&(0,a.jsx)("div",{className:"p-3 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"İndirim:"}),(0,a.jsxs)("span",{children:["-",l.toFixed(2)," ₺"]})]})}),(0,a.jsxs)("div",{className:"p-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsx)("span",{className:"font-bold",children:"Toplam:"}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[f.toFixed(2)," ₺"]})]}),(0,a.jsxs)("button",{onClick:m,className:"w-full py-2 px-4 mb-3 bg-teal-500 text-white rounded-lg font-medium hover:bg-teal-600 transition-colors flex items-center justify-center gap-2",children:[(0,a.jsx)("span",{children:"\xc7ek İndirimi"}),(0,a.jsx)("span",{children:"%"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("button",{onClick:()=>o("cash",f),className:"py-2 px-4 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Nakit"}),(0,a.jsx)("button",{onClick:()=>o("card",f),className:"py-2 px-4 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Kredi Kartı"}),(0,a.jsx)("button",{onClick:()=>o("multinet",f),className:"py-2 px-4 bg-yellow-500 text-white rounded-lg font-medium hover:bg-yellow-600 transition-colors",children:"Multinet"}),(0,a.jsx)("button",{onClick:()=>o("sodexo",f),className:"py-2 px-4 bg-purple-500 text-white rounded-lg font-medium hover:bg-purple-600 transition-colors",children:"Sodexo"})]})]})]})})]})},N=i(93832),w=i(82461),k=i(82800),S=i(57976),Z=i(63915),z=i(79990),C=i(28745),T=i(40834),I=i(34059),E=i(75495),P=i(88197),M=e=>{let{isOpen:s,onClose:i,onChangeTable:t,onChangeWaiter:r,onSplitTable:l,onMergeTables:n}=e;return s?(0,a.jsx)(C.M,{children:s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.E.div,{className:"fixed inset-0 bg-black/50 z-40",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i}),(0,a.jsxs)(f.E.div,{className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-xl z-50 overflow-hidden",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-lg font-bold",children:"Masa İşlemleri"}),(0,a.jsx)("button",{onClick:i,className:"p-1 rounded-full hover:bg-gray-100",children:(0,a.jsx)(h.Z,{size:20})})]}),(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)(f.E.button,{className:"w-full flex items-center p-4 mb-2 bg-white rounded-lg border border-gray-200",whileTap:{scale:.98},onClick:t,children:[(0,a.jsx)(T.Z,{size:20,className:"mr-3 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Masa Değiştir"})]}),(0,a.jsxs)(f.E.button,{className:"w-full flex items-center p-4 mb-2 bg-white rounded-lg border border-gray-200",whileTap:{scale:.98},onClick:r,children:[(0,a.jsx)(I.Z,{size:20,className:"mr-3 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Garson Değiştir"})]}),(0,a.jsxs)(f.E.button,{className:"w-full flex items-center p-4 mb-2 bg-white rounded-lg border border-gray-200",whileTap:{scale:.98},onClick:l,children:[(0,a.jsx)(E.Z,{size:20,className:"mr-3 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Masa Ayır"})]}),(0,a.jsxs)(f.E.button,{className:"w-full flex items-center p-4 mb-2 bg-white rounded-lg border border-gray-200",whileTap:{scale:.98},onClick:n,children:[(0,a.jsx)(P.Z,{size:20,className:"mr-3 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium",children:"Masa Birleştir"})]})]}),(0,a.jsx)("div",{className:"h-6"})]})]})}):null},O=e=>{let{showCart:s,onToggleCart:i,itemCount:l,totalAmount:n,onSendToKitchen:d=()=>console.log("Send to kitchen")}=e,o=(0,r.useRouter)(),[c,m]=(0,t.useState)(!1),[u,x]=(0,t.useState)(!1),[p,b]=(0,t.useState)(!1),[h,g]=(0,t.useState)(!1),[y,j]=(0,t.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white border-t border-gray-200 shadow-lg",children:[(0,a.jsxs)("div",{className:"px-4 py-2 flex justify-between items-center bg-gray-50 border-b border-gray-200",children:[(0,a.jsx)("span",{className:"text-gray-600 font-medium",children:"Toplam"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:[n.toFixed(2)," ₺"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-5 divide-x divide-gray-200",children:[(0,a.jsxs)(f.E.button,{className:"flex flex-col items-center justify-center py-3 ".concat(s?"bg-blue-50 text-blue-600":"text-gray-600"),onClick:s?i:void 0,whileTap:{scale:.95},children:[(0,a.jsx)(N.Z,{size:20}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:"\xdcr\xfcnler"})]}),(0,a.jsxs)(f.E.button,{className:"flex flex-col items-center justify-center py-3 text-gray-600",whileTap:{scale:.95},onClick:()=>m(!0),children:[(0,a.jsx)(w.Z,{size:20}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:"İşlemler"})]}),(0,a.jsxs)(f.E.button,{className:"flex flex-col items-center justify-center py-3 relative ".concat(s?"text-gray-600":"bg-blue-50 text-blue-600"),onClick:i,whileTap:{scale:.95},children:[(0,a.jsx)(k.Z,{size:20}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:"Sepet"}),l>0&&(0,a.jsx)(f.E.div,{className:"absolute top-1 right-3 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:l})]}),(0,a.jsxs)(f.E.button,{className:"flex flex-col items-center justify-center py-3 text-gray-600 relative overflow-hidden",whileTap:{scale:.95},onClick:()=>{u||(x(!0),setTimeout(()=>{g(!0),setTimeout(()=>{x(!1),g(!1),o.push("/mobileorder")},1e3)},1500))},disabled:u,children:[(0,a.jsx)(C.M,{mode:"wait",children:h?(0,a.jsx)(f.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:25},children:(0,a.jsx)(S.Z,{size:20,className:"text-blue-600"})},"check"):(0,a.jsx)(f.E.div,{animate:u?{scale:[1,1.2],rotate:[-5,5],color:["#4B5563","#2563EB"]}:{},transition:{repeat:1/0,repeatType:"reverse",duration:1,ease:"easeInOut"},children:(0,a.jsx)(Z.Z,{size:20})},"printer")}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:"Hesap"}),u&&!h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.E.div,{className:"absolute inset-0 bg-blue-100 opacity-30",initial:{y:"100%"},animate:{y:"-100%"},transition:{duration:1.5,ease:"easeInOut",repeat:1/0}}),(0,a.jsx)(f.E.div,{className:"absolute inset-0 bg-blue-50 opacity-20",initial:{scale:0},animate:{scale:1.5},transition:{duration:1,repeat:1/0},style:{borderRadius:"50%",transformOrigin:"center"}})]})]}),(0,a.jsxs)(f.E.button,{className:"flex flex-col items-center justify-center py-3 text-green-600 relative overflow-hidden",whileTap:{scale:.95},onClick:()=>{p||(b(!0),d&&d(),setTimeout(()=>{j(!0),setTimeout(()=>{b(!1),j(!1),o.push("/mobileorder")},1e3)},1500))},disabled:p,children:[(0,a.jsx)(C.M,{mode:"wait",children:y?(0,a.jsx)(f.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:25},children:(0,a.jsx)(S.Z,{size:20,className:"text-green-600"})},"check"):(0,a.jsx)(f.E.div,{animate:p?{scale:[1,1.2],x:[0,3],color:["#059669","#10B981"]}:{},transition:{repeat:1/0,repeatType:"reverse",duration:.8,ease:"easeInOut"},children:(0,a.jsx)(z.Z,{size:20})},"send")}),(0,a.jsx)("span",{className:"text-xs mt-1 font-medium",children:"Mutfağa"}),p&&!y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.E.div,{className:"absolute inset-0 bg-green-100 opacity-30",initial:{y:"100%"},animate:{y:"-100%"},transition:{duration:1.5,ease:"easeInOut",repeat:1/0}}),(0,a.jsx)(f.E.div,{className:"absolute inset-0 bg-green-50 opacity-20",initial:{scale:0},animate:{scale:1.5},transition:{duration:1,repeat:1/0},style:{borderRadius:"50%",transformOrigin:"center"}})]})]})]})]}),(0,a.jsx)(M,{isOpen:c,onClose:()=>m(!1),onChangeTable:()=>{m(!1),console.log("Change table action")},onChangeWaiter:()=>{m(!1),console.log("Change waiter action")},onSplitTable:()=>{m(!1),console.log("Split table action")},onMergeTables:()=>{m(!1),console.log("Merge tables action")}}),(0,a.jsxs)(C.M,{children:[u&&(0,a.jsx)(f.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)(f.E.div,{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},transition:{type:"spring",damping:25,stiffness:500},children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15,stiffness:200},children:(0,a.jsx)(S.Z,{size:50,className:"text-blue-600 mb-3"})}),(0,a.jsx)("p",{className:"text-lg font-bold",children:"Hesap Yazdırıldı!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Z.Z,{size:50,className:"text-blue-600 mb-3"}),(0,a.jsx)(f.E.div,{className:"absolute inset-0 flex items-center justify-center",animate:{opacity:[0,1],y:[0,-10]},transition:{repeat:1/0,repeatType:"reverse",duration:1.5},children:(0,a.jsx)("div",{className:"w-1 h-10 bg-blue-600 rounded-full"})})]}),(0,a.jsx)("p",{className:"text-lg font-bold",children:"Hesap Yazdırılıyor..."}),(0,a.jsx)("div",{className:"mt-3 flex space-x-1",children:[0,1,2].map(e=>(0,a.jsx)(f.E.div,{className:"w-2 h-2 bg-blue-600 rounded-full",animate:{y:[0,-5]},transition:{repeat:1/0,repeatType:"reverse",duration:.6,delay:.2*e,ease:"easeInOut"}},e))})]})})}),p&&(0,a.jsx)(f.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsx)(f.E.div,{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",initial:{scale:.8,y:20},animate:{scale:1,y:0},exit:{scale:.8,y:20},transition:{type:"spring",damping:25,stiffness:500},children:y?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.E.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",damping:15,stiffness:200},children:(0,a.jsx)(S.Z,{size:50,className:"text-green-600 mb-3"})}),(0,a.jsx)("p",{className:"text-lg font-bold",children:"Mutfağa G\xf6nderildi!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(z.Z,{size:50,className:"text-green-600 mb-3"}),(0,a.jsx)(f.E.div,{className:"absolute inset-0",animate:{x:[0,10],opacity:[1,0]},transition:{repeat:1/0,duration:1.2},children:(0,a.jsx)("div",{className:"w-10 h-1 bg-green-600 rounded-full transform -rotate-45 translate-x-5 translate-y-6"})})]}),(0,a.jsx)("p",{className:"text-lg font-bold",children:"Mutfağa G\xf6nderiliyor..."}),(0,a.jsx)("div",{className:"mt-3 flex space-x-1",children:[0,1,2].map(e=>(0,a.jsx)(f.E.div,{className:"w-2 h-2 bg-green-600 rounded-full",animate:{y:[0,-5]},transition:{repeat:1/0,repeatType:"reverse",duration:.6,delay:.2*e,ease:"easeInOut"}},e))})]})})})]})]})},A=i(42793),q=i(92600),K=i(80037),D=i(37805),F=e=>{var s,i,r,l,n,d,o,c,u,x,b,g,y,j;let{isOpen:v,onClose:N,product:w,onComplete:k}=e,[S,Z]=(0,t.useState)(null),[z,T]=(0,t.useState)([]),[I,E]=(0,t.useState)([]),[P,M]=(0,t.useState)(!1),[O,F]=(0,t.useState)(0);if((0,t.useEffect)(()=>{var e,s,i;let a=(null===(e=w.comboOptions)||void 0===e?void 0:e.mainItemsSelectionType)==="required",t=(null===(s=w.comboOptions)||void 0===s?void 0:s.sidesSelectionType)==="required",r=(null===(i=w.comboOptions)||void 0===i?void 0:i.drinksSelectionType)==="required",l=!a||null!==S,n=!t||z.length>0,d=!r||I.length>0;M(l&&n&&d);let o=0;(null==S?void 0:S.extraPrice)&&(o+=S.extraPrice),z.forEach(e=>{e.extraPrice&&(o+=e.extraPrice)}),I.forEach(e=>{e.extraPrice&&(o+=e.extraPrice)}),F(o)},[S,z,I,w.comboOptions]),!v)return null;let B=e=>{Z(e)},L=e=>{if(z.some(s=>s.id===e.id))T(z.filter(s=>s.id!==e.id));else{var s;let i=(null===(s=w.comboOptions)||void 0===s?void 0:s.maxSides)||1;1===i?T([e]):z.length<i&&T([...z,e])}},Y=e=>{if(I.some(s=>s.id===e.id))E(I.filter(s=>s.id!==e.id));else{var s;let i=(null===(s=w.comboOptions)||void 0===s?void 0:s.maxDrinks)||1;1===i?E([e]):I.length<i&&E([...I,e])}},H=(null===(s=w.comboOptions)||void 0===s?void 0:s.mainItemsSelectionType)==="required",R=(null===(i=w.comboOptions)||void 0===i?void 0:i.sidesSelectionType)==="required",G=(null===(r=w.comboOptions)||void 0===r?void 0:r.drinksSelectionType)==="required",_=(null===(l=w.comboOptions)||void 0===l?void 0:l.mainItems)&&w.comboOptions.mainItems.length>0,Q=(null===(n=w.comboOptions)||void 0===n?void 0:n.sides)&&w.comboOptions.sides.length>0,V=(null===(d=w.comboOptions)||void 0===d?void 0:d.drinks)&&w.comboOptions.drinks.length>0,W=e=>{switch(e.toLowerCase()){case"main":return(0,a.jsx)(p.Z,{className:"text-blue-500",size:20});case"side":return(0,a.jsx)(m.Z,{className:"text-amber-500",size:20});case"drink":return(0,a.jsx)(A.Z,{className:"text-emerald-500",size:20});default:return(0,a.jsx)(q.Z,{className:"text-gray-500",size:20})}};return(0,a.jsx)(C.M,{children:v&&(0,a.jsx)(f.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex flex-col",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,a.jsxs)(f.E.div,{className:"bg-white flex flex-col h-full w-full",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:[(0,a.jsxs)("div",{className:"bg-blue-600 text-white p-3 flex items-center justify-between sticky top-0 z-10 shadow-md",children:[(0,a.jsx)("button",{onClick:N,className:"p-1.5 rounded-full hover:bg-blue-700 transition-colors",children:(0,a.jsx)(h.Z,{size:20})}),(0,a.jsxs)("h2",{className:"text-base font-bold flex-1 text-center flex items-center justify-center gap-2",children:[(0,a.jsx)(q.Z,{size:18}),w.name]}),(0,a.jsx)("div",{className:"w-8"})," "]}),(0,a.jsxs)("div",{className:"flex-1 overflow-auto bg-gray-50 p-3",children:[_&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[W("main"),(0,a.jsxs)("h3",{className:"text-base font-semibold ml-2 flex items-center",children:["Ana \xdcr\xfcn ",H&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:null===(c=w.comboOptions)||void 0===c?void 0:null===(o=c.mainItems)||void 0===o?void 0:o.map(e=>(0,a.jsxs)(f.E.button,{className:"p-3 w-full ".concat((null==S?void 0:S.id)===e.id?"bg-blue-50":"bg-white hover:bg-gray-50"," flex items-center justify-between transition-colors"),onClick:()=>B(e),whileTap:{scale:.98},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border flex items-center justify-center mr-3\n                              ".concat((null==S?void 0:S.id)===e.id?"border-blue-500 bg-blue-500":"border-gray-300"),children:(null==S?void 0:S.id)===e.id&&(0,a.jsx)(K.Z,{className:"text-white",size:12})}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.name}),e.extraPrice?(0,a.jsxs)("span",{className:"text-xs text-blue-600 font-semibold",children:["+",e.extraPrice.toFixed(2)," ₺"]}):null]})]}),(0,a.jsx)(D.Z,{size:16,className:"text-gray-400"})]},e.id))})})]}),Q&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[W("side"),(0,a.jsxs)("h3",{className:"text-base font-semibold ml-2 flex items-center",children:["Yan \xdcr\xfcn ",R&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),(null===(u=w.comboOptions)||void 0===u?void 0:u.maxSides)&&w.comboOptions.maxSides>1&&(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2 bg-gray-100 px-2 py-0.5 rounded-full",children:["Maks: ",w.comboOptions.maxSides]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:null===(b=w.comboOptions)||void 0===b?void 0:null===(x=b.sides)||void 0===x?void 0:x.map(e=>(0,a.jsxs)(f.E.button,{className:"p-3 w-full ".concat(z.some(s=>s.id===e.id)?"bg-amber-50":"bg-white hover:bg-gray-50"," flex items-center justify-between transition-colors"),onClick:()=>L(e),whileTap:{scale:.98},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border flex items-center justify-center mr-3\n                              ".concat(z.some(s=>s.id===e.id)?"border-amber-500 bg-amber-500":"border-gray-300"),children:z.some(s=>s.id===e.id)&&(0,a.jsx)(K.Z,{className:"text-white",size:12})}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.name}),e.extraPrice?(0,a.jsxs)("span",{className:"text-xs text-amber-600 font-semibold",children:["+",e.extraPrice.toFixed(2)," ₺"]}):null]})]}),(0,a.jsx)(D.Z,{size:16,className:"text-gray-400"})]},e.id))})})]}),V&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[W("drink"),(0,a.jsxs)("h3",{className:"text-base font-semibold ml-2 flex items-center",children:["İ\xe7ecek ",G&&(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"}),(null===(g=w.comboOptions)||void 0===g?void 0:g.maxDrinks)&&w.comboOptions.maxDrinks>1&&(0,a.jsxs)("span",{className:"text-xs text-gray-500 ml-2 bg-gray-100 px-2 py-0.5 rounded-full",children:["Maks: ",w.comboOptions.maxDrinks]})]})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:null===(j=w.comboOptions)||void 0===j?void 0:null===(y=j.drinks)||void 0===y?void 0:y.map(e=>(0,a.jsxs)(f.E.button,{className:"p-3 w-full ".concat(I.some(s=>s.id===e.id)?"bg-emerald-50":"bg-white hover:bg-gray-50"," flex items-center justify-between transition-colors"),onClick:()=>Y(e),whileTap:{scale:.98},children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-5 h-5 rounded-full border flex items-center justify-center mr-3\n                              ".concat(I.some(s=>s.id===e.id)?"border-emerald-500 bg-emerald-500":"border-gray-300"),children:I.some(s=>s.id===e.id)&&(0,a.jsx)(K.Z,{className:"text-white",size:12})}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.name}),e.extraPrice?(0,a.jsxs)("span",{className:"text-xs text-emerald-600 font-semibold",children:["+",e.extraPrice.toFixed(2)," ₺"]}):null]})]}),(0,a.jsx)(D.Z,{size:16,className:"text-gray-400"})]},e.id))})})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 bg-white shadow-lg",children:[(0,a.jsxs)("div",{className:"p-3 pb-0",children:[(0,a.jsxs)("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[S&&(0,a.jsxs)("div",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full border border-blue-100 flex items-center",children:[W("main"),(0,a.jsx)("span",{className:"ml-1",children:S.name})]}),z.map(e=>(0,a.jsxs)("div",{className:"px-2 py-1 bg-amber-50 text-amber-700 text-xs rounded-full border border-amber-100 flex items-center",children:[W("side"),(0,a.jsx)("span",{className:"ml-1",children:e.name})]},e.id)),I.map(e=>(0,a.jsxs)("div",{className:"px-2 py-1 bg-emerald-50 text-emerald-700 text-xs rounded-full border border-emerald-100 flex items-center",children:[W("drink"),(0,a.jsx)("span",{className:"ml-1",children:e.name})]},e.id))]}),O>0&&(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-700 mb-2",children:["Ekstra \xfccret: ",(0,a.jsxs)("span",{className:"text-blue-600",children:["+",O.toFixed(2)," ₺"]})]})]}),(0,a.jsxs)("div",{className:"p-3 pt-1",children:[(0,a.jsx)(f.E.button,{className:"w-full py-3 px-4 font-medium rounded-lg transition-colors flex items-center justify-center gap-2 ".concat(P?"bg-green-500 text-white shadow-md":"bg-gray-300 text-gray-500"),onClick:()=>{var e,s,i;let a=(null===(e=w.comboOptions)||void 0===e?void 0:e.mainItemsSelectionType)==="required",t=(null===(s=w.comboOptions)||void 0===s?void 0:s.sidesSelectionType)==="required",r=(null===(i=w.comboOptions)||void 0===i?void 0:i.drinksSelectionType)==="required",l=!a||null!==S,n=!t||z.length>0,d=!r||I.length>0;l&&n&&d&&k({mainItem:S,sides:z,drinks:I})},disabled:!P,whileHover:P?{scale:1.02}:{},whileTap:P?{scale:.98}:{},children:P?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(K.Z,{size:18}),(0,a.jsx)("span",{children:"Se\xe7imi Tamamla"})]}):"L\xfctfen Gerekli Se\xe7imleri Yapın"}),!P&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-red-500 text-center",children:[!S&&H&&(0,a.jsx)("span",{children:"Ana \xfcr\xfcn"}),0===z.length&&R&&(0,a.jsx)("span",{children:" • Yan \xfcr\xfcn"}),0===I.length&&G&&(0,a.jsx)("span",{children:" • İ\xe7ecek"}),!S&&H||0===z.length&&R||0===I.length&&G?(0,a.jsx)("span",{children:" se\xe7imi zorunludur"}):null]})]})]})]})})})},B=e=>{var s,i;let{isOpen:r,onClose:n,orderItems:d,productMessages:o,messageGroups:c,onAssignMessages:m,selectedProductId:u,productMessageSelections:x}=e,[p,b]=(0,t.useState)(u||(null===(s=d[0])||void 0===s?void 0:s.productId)||null),[g,f]=(0,t.useState)({}),[y,v]=(0,t.useState)((null===(i=c[0])||void 0===i?void 0:i.id)||""),[N,w]=(0,t.useState)("groups");if((0,t.useEffect)(()=>{let e={};d.forEach(s=>{s.messages&&Array.isArray(s.messages)&&(e[s.productId]=s.messages.map(e=>e.id))}),f(e)},[d,r]),(0,t.useEffect)(()=>{u&&b(u)},[u]),(0,t.useEffect)(()=>{r&&p&&x&&f(e=>({...e,[p]:Array.isArray(x[p])?x[p]:[]}))},[r,p,x]),!r)return null;let S=e=>{b(e),w("messages")},Z=e=>{p&&f(s=>{let i=s[p]||[],a=i.includes(e.id);return{...s,[p]:a?i.filter(s=>s!==e.id):[...i,e.id]}})},z=o.filter(e=>e.groupId===y),C=d.find(e=>e.productId===p),T=()=>(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-3",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:c.map((e,s)=>(0,a.jsxs)("button",{className:"w-full py-3 rounded-lg font-semibold text-base flex items-center gap-2 px-4 transition-all border bg-white text-gray-800 border-gray-200 hover:bg-blue-50 shadow-sm",onClick:()=>{v(e.id),w("messages")},children:[(0,a.jsx)("span",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:s+1}),(0,a.jsx)("span",{className:"flex-1 text-left",children:e.name})]},e.id))}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("button",{className:"w-full py-3 rounded-lg font-semibold text-base flex items-center gap-2 px-4 transition-all border bg-white text-gray-800 border-gray-200 hover:bg-blue-50 shadow-sm",onClick:()=>w("products"),children:[(0,a.jsx)("span",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:(0,a.jsx)(k.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"flex-1 text-left",children:"Sepet \xdcr\xfcnleri"})]})})]}),I=()=>(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-3",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-1",children:"Se\xe7ili \xdcr\xfcn:"}),(0,a.jsx)("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200 flex items-center",children:(0,a.jsx)("span",{className:"font-medium",children:null==C?void 0:C.name})})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:z.map(e=>{var s;return(0,a.jsx)("button",{className:"px-3 py-2 rounded-lg text-sm font-medium border transition-all ".concat(p&&(null===(s=g[p])||void 0===s?void 0:s.includes(e.id))?"bg-blue-600 text-white border-blue-600 shadow-sm":"bg-white text-gray-800 border-gray-200 hover:bg-blue-50"),onClick:()=>Z(e),children:e.name},e.id)})})]}),E=()=>(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-3",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2",children:d.map(e=>(0,a.jsxs)("button",{className:"p-3 rounded-lg border transition-all ".concat(p===e.productId?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"),onClick:()=>S(e.productId),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-6 h-6 bg-gray-800 rounded-full flex items-center justify-center text-white text-xs font-bold",children:e.quantity}),(0,a.jsx)("span",{className:"flex-1 font-medium text-sm",children:e.name}),(0,a.jsxs)("span",{className:"font-bold text-sm",children:[(e.price*e.quantity).toFixed(2)," ₺"]})]}),g[e.productId]&&g[e.productId].length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:g[e.productId].map(e=>{let s=o.find(s=>s.id===e);return s?(0,a.jsx)("span",{className:"px-2 py-0.5 rounded bg-blue-50 text-blue-700 text-xs font-medium border border-blue-100",children:s.name},s.id):null})})]},e.productId))})});return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex flex-col bg-white",children:[(()=>{let e="\xdcr\xfcn Mesajları",s=null;if("messages"===N){var i;e=(null===(i=c.find(e=>e.id===y))||void 0===i?void 0:i.name)||"Mesajlar",s=(0,a.jsx)("button",{onClick:()=>w("groups"),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})})}else"products"===N&&(e="Sepet \xdcr\xfcnleri",s=(0,a.jsx)("button",{onClick:()=>w("groups"),className:"absolute left-2 top-1/2 -translate-y-1/2 p-2",children:(0,a.jsx)(l.Z,{className:"w-5 h-5"})}));return(0,a.jsxs)("div",{className:"bg-white text-gray-900 text-lg font-bold py-3 px-4 flex items-center justify-center shadow-md relative border-b border-gray-200",children:[s,(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-blue-600"}),(0,a.jsx)("span",{children:e})]}),(0,a.jsx)("button",{onClick:n,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2",children:(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]})})(),(()=>{switch(N){case"groups":return T();case"messages":return I();case"products":return E();default:return null}})(),(0,a.jsx)("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:(0,a.jsx)("button",{onClick:()=>{if(p){let e=Array.isArray(g[p])?g[p].filter(Boolean):[];m(p,e),n()}},className:"w-full py-3 rounded-lg bg-blue-600 text-white font-bold shadow-sm",children:"Kaydet"})})]})},L=i(35450),Y=i(44850),H=e=>{let{tableId:s}=e,i=(0,r.useRouter)(),[l,d]=(0,t.useState)(1),[o,c]=(0,t.useState)(L.b[0]),[m,u]=(0,t.useState)([]),[x,p]=(0,t.useState)([]),[b,h]=(0,t.useState)(null),[g,j]=(0,t.useState)(!1),[N,w]=(0,t.useState)(0),[k,S]=(0,t.useState)(""),[Z,z]=(0,t.useState)(!1),[C,T]=(0,t.useState)(!1),[I,E]=(0,t.useState)(null),[P,M]=(0,t.useState)(!1),[A,q]=(0,t.useState)(null),[K,D]=(0,t.useState)({}),[H,R]=(0,t.useState)(!0);(0,t.useEffect)(()=>{let e=setTimeout(()=>{R(!1)},100);return()=>clearTimeout(e)},[]);let G=k?L.b.flatMap(e=>e.products).filter(e=>{var s,i;return e.name.toLowerCase().includes(k.toLowerCase())||(null===(s=e.barcode)||void 0===s?void 0:s.toLowerCase().includes(k.toLowerCase()))||(null===(i=e.category)||void 0===i?void 0:i.toLowerCase().includes(k.toLowerCase()))}):o.products,_=e=>{for(let s of L.b){let i=s.products.find(s=>s.barcode===e);if(i)return i}return null},Q=e=>{let s=_(e);s?V(s):console.log("\xdcr\xfcn bulunamadı:",e)},V=e=>{if(e.isCombo&&e.comboOptions){E(e),T(!0);return}let s=new Date().toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"});u(i=>i.find(s=>s.productId===e.id)?i.map(s=>s.productId===e.id?{...s,quantity:s.quantity+1}:s):[...i,{productId:e.id,name:e.name,price:e.price,quantity:1,addedAt:s,addedBy:"Ahmet Yılmaz"}]),h(e.id)},W=e=>{u(s=>{let i=s.find(s=>s.productId===e);return i&&i.quantity>1?s.map(s=>s.productId===e?{...s,quantity:s.quantity-1}:s):s.filter(s=>s.productId!==e)})};return(0,a.jsxs)("div",{className:"flex flex-col h-screen bg-gray-100",children:[(0,a.jsx)(n,{title:"Masa ".concat(s),onBack:()=>i.push("/mobileorder")}),(0,a.jsx)(f.E.div,{className:"flex-1 relative overflow-hidden",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:Z?(0,a.jsx)(f.E.div,{className:"absolute inset-0 z-10",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:50},transition:{duration:.3},children:(0,a.jsx)(v,{orderItems:m,payments:x,tableId:s,checkDiscount:N,onIncrement:e=>{let s;for(let i of L.b){let a=i.products.find(s=>s.id===e);if(a){s=a;break}}s&&V(s)},onDecrement:e=>{W(e)},onPayment:(e,s)=>{let a={type:e,amount:s,timestamp:new Date().toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})};p(e=>[...e,a]),[...x,a].reduce((e,s)=>e+s.amount,0)>=m.reduce((e,s)=>e+s.price*s.quantity,0)&&i.push("/mobileorder")},onBarcodeSubmit:Q,onCheckDiscount:()=>j(!0),onClose:()=>z(!1),onOpenMessageModal:e=>{q(e),M(!0)},productMessageSelections:K,productMessages:Y.H})}):(0,a.jsx)(f.E.div,{className:"absolute inset-0",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:(0,a.jsx)(y,{products:G,selectedProduct:b,orderItems:m,onProductSelect:V,onBarcodeSubmit:Q,onSearch:e=>{S(e)},searchQuery:k,categories:L.b,onCategorySelect:c,selectedCategory:o})})}),(0,a.jsx)(f.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},children:(0,a.jsx)(O,{showCart:Z,onToggleCart:()=>{z(!Z)},itemCount:m.length,totalAmount:m.reduce((e,s)=>e+s.price*s.quantity,0),onSendToKitchen:()=>{console.log("Sending order to kitchen:",m),alert("Sipariş mutfağa g\xf6nderildi!"),u([])}})}),C&&I&&(0,a.jsx)(F,{isOpen:C,onClose:()=>T(!1),product:I,onComplete:e=>{var s,i;if(!I)return;let a=new Date().toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"}),t=(null===(s=e.mainItem)||void 0===s?void 0:s.name)||"No main item",r=e.sides.map(e=>e.name).join(", ")||"No sides",l=e.drinks.map(e=>e.name).join(", ")||"No drinks",n="".concat(t," / ").concat(r," / ").concat(l),d=((null===(i=e.mainItem)||void 0===i?void 0:i.extraPrice)||0)+e.sides.reduce((e,s)=>e+(s.extraPrice||0),0)+e.drinks.reduce((e,s)=>e+(s.extraPrice||0),0);u(s=>s.find(e=>{var s;return e.productId===(null==I?void 0:I.id)&&(null===(s=e.comboDetails)||void 0===s?void 0:s.description)===n})?s.map(e=>{var s;return e.productId===(null==I?void 0:I.id)&&(null===(s=e.comboDetails)||void 0===s?void 0:s.description)===n?{...e,quantity:e.quantity+1}:e}):[...s,{productId:I.id,name:I.name,price:I.price+d,quantity:1,addedAt:a,addedBy:"Ahmet Yılmaz",isCombo:!0,comboDetails:{description:n,mainItem:e.mainItem,sides:e.sides,drinks:e.drinks}}]),T(!1)}}),P&&(0,a.jsx)(B,{isOpen:P,onClose:()=>M(!1),orderItems:m,productMessages:Y.H,messageGroups:Y.M,onAssignMessages:(e,s)=>{D(i=>({...i,[e]:s})),M(!1)},selectedProductId:A||void 0,productMessageSelections:K})]})};function R(e){let{params:s}=e;return(0,a.jsx)(H,{tableId:s.tableId})}},35450:function(e,s,i){"use strict";i.d(s,{b:function(){return b}});var a=i(33571),t=i(34487),r=i(57197),l=i(20948),n=i(45517),d=i(30433),o=i(24082),c=i(24669),m=i(84358),u=i(16621),x=i(36755),p=i(66241);let b=[{id:"coffee",name:"Kahve",icon:a.Z,page:1,products:[{id:"espresso",name:"Espresso",price:15,icon:a.Z,barcode:"8680001",category:"İ\xe7ecek"},{id:"latte",name:"Latte",price:20,icon:a.Z,barcode:"8680002",category:"İ\xe7ecek"},{id:"cappuccino",name:"Cappuccino",price:22,icon:a.Z,barcode:"8680003",category:"İ\xe7ecek"},{id:"americano",name:"Americano",price:18,icon:a.Z,barcode:"8680004",category:"İ\xe7ecek"},{id:"mocha",name:"Mocha",price:25,icon:a.Z,barcode:"8680005",category:"İ\xe7ecek"},{id:"turkish-coffee",name:"T\xfcrk Kahvesi",price:15,icon:a.Z,barcode:"8680006",category:"İ\xe7ecek"}]},{id:"combos",name:"Men\xfcler",icon:t.Z,page:1,products:[{id:"classic-burger-menu",name:"Klasik Burger Men\xfc",price:150,icon:t.Z,category:"Ana Yemek",isCombo:!0,comboOptions:{mainItems:[{id:"classic-burger",name:"Klasik Burger",isRequired:!0},{id:"cheese-burger",name:"Cheese Burger",extraPrice:10},{id:"double-burger",name:"Double Burger",extraPrice:25}],sides:[{id:"regular-fries",name:"Patates Kızartması"},{id:"curly-fries",name:"\xc7ıtır Patates",extraPrice:5},{id:"onion-rings",name:"Soğan Halkası",extraPrice:8}],drinks:[{id:"cola",name:"Kola"},{id:"fanta",name:"Fanta"},{id:"sprite",name:"Sprite"},{id:"ayran",name:"Ayran"}],mainItemsSelectionType:"required",sidesSelectionType:"required",drinksSelectionType:"required"}},{id:"chicken-menu",name:"Tavuk Men\xfc",price:120,icon:t.Z,category:"Ana Yemek",isCombo:!0,comboOptions:{mainItems:[{id:"grilled-chicken",name:"Izgara Tavuk"},{id:"crispy-chicken",name:"\xc7ıtır Tavuk",extraPrice:10},{id:"spicy-chicken",name:"Acılı Tavuk",extraPrice:10,isOptional:!0}],sides:[{id:"regular-fries",name:"Patates Kızartması"},{id:"rice",name:"Pilav",extraPrice:5},{id:"salad",name:"Salata",extraPrice:8,isOptional:!0}],drinks:[{id:"cola",name:"Kola"},{id:"fanta",name:"Fanta"},{id:"sprite",name:"Sprite"},{id:"ayran",name:"Ayran"}],mainItemsSelectionType:"required",sidesSelectionType:"required",drinksSelectionType:"optional"}}]},{id:"pizza",name:"Pizza",icon:r.Z,page:1,products:[{id:"margherita",name:"Margarita",price:45,icon:r.Z,barcode:"8680010",category:"Pizza"},{id:"pepperoni",name:"Pepperoni",price:55,icon:r.Z,barcode:"8680011",category:"Pizza"},{id:"veggie",name:"Vejeteryan",price:50,icon:r.Z,barcode:"8680012",category:"Pizza"},{id:"bbq-chicken",name:"BBQ Tavuk",price:60,icon:r.Z,barcode:"8680013",category:"Pizza"},{id:"four-cheese",name:"D\xf6rt Peynirli",price:65,icon:r.Z,barcode:"8680014",category:"Pizza"}]},{id:"main",name:"Ana Yemek",icon:l.Z,page:1,products:[{id:"steak",name:"Biftek",price:120,icon:n.Z,category:"Ana Yemek"},{id:"salmon",name:"Somon",price:90,icon:d.Z,category:"Ana Yemek"},{id:"chicken",name:"Tavuk",price:70,icon:l.Z,category:"Ana Yemek"},{id:"meatballs",name:"K\xf6fte",price:65,icon:l.Z,category:"Ana Yemek"}]},{id:"salads",name:"Salatalar",icon:o.Z,page:1,products:[{id:"caesar",name:"Sezar",price:40,icon:o.Z,category:"Salata"},{id:"greek",name:"Akdeniz",price:35,icon:o.Z,category:"Salata"},{id:"tuna",name:"Ton Balıklı",price:45,icon:o.Z,category:"Salata"}]},{id:"soups",name:"\xc7orbalar",icon:c.Z,page:2,products:[{id:"lentil",name:"Mercimek",price:25,icon:c.Z,category:"\xc7orba"},{id:"tomato",name:"Domates",price:25,icon:c.Z,category:"\xc7orba"},{id:"chicken-soup",name:"Tavuk",price:30,icon:c.Z,category:"\xc7orba"}]},{id:"breakfast",name:"Kahvaltı",icon:m.Z,page:2,products:[{id:"full",name:"Serpme Kahvaltı",price:120,icon:m.Z,category:"Kahvaltı"},{id:"english",name:"İngiliz Kahvaltı",price:90,icon:m.Z,category:"Kahvaltı"},{id:"continental",name:"Kontinental",price:70,icon:m.Z,category:"Kahvaltı"}]},{id:"drinks",name:"İ\xe7ecekler",icon:u.Z,page:2,products:[{id:"beer",name:"Bira",price:35,icon:u.Z,category:"İ\xe7ecek"},{id:"wine",name:"Şarap",price:45,icon:x.Z,category:"İ\xe7ecek"},{id:"raki",name:"Rakı",price:40,icon:u.Z,category:"İ\xe7ecek"}]},{id:"desserts",name:"Tatlılar",icon:p.Z,page:2,products:[{id:"kunefe",name:"K\xfcnefe",price:45,icon:p.Z,barcode:"8680013",category:"Tatlı"},{id:"baklava",name:"Baklava",price:40,icon:p.Z,barcode:"8680014",category:"Tatlı"},{id:"sutlac",name:"S\xfctla\xe7",price:30,icon:p.Z,barcode:"8680015",category:"Tatlı"},{id:"kazandibi",name:"Kazandibi",price:35,icon:p.Z,barcode:"8680016",category:"Tatlı"},{id:"dondurma",name:"Dondurma",price:25,icon:p.Z,barcode:"8680017",category:"Tatlı"}]}]},44850:function(e,s,i){"use strict";i.d(s,{H:function(){return a},M:function(){return t}});let a=[{id:"chocolate",name:"\xc7ikolatalı Sos",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!1,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"sauces",isActive:!0},{id:"strawberry",name:"\xc7ilekli Sos",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!1,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"sauces",isActive:!0},{id:"cream",name:"Kaymak",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!1,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"sauces",isActive:!0},{id:"test",name:"Test Mesajı",extraPrice:0,selectedByDefault:!1,isKitchenAddMessage:!1,isKitchenSendMessage:!1,isPizzaProduction:!1,isAutomaticForKgProducts:!1,isDepositMessage:!1,hideMessage:!1,groupId:"test",isActive:!0}],t=[{id:"sauces",name:"Soslar"},{id:"test",name:"Test Grubu"}]}},function(e){e.O(0,[9065,4108,2971,8069,1744],function(){return e(e.s=7963)}),_N_E=e.O()}]);