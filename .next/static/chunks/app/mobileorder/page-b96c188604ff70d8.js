(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5792],{83780:function(e,t,a){Promise.resolve().then(a.bind(a,70855))},43345:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a(87461).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},26490:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},81049:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a(87461).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},11213:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a(87461).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},70855:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var i=a(3827),l=a(64090),r=a(47907),s=a(26490),n=a(11213);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,a(87461).Z)("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);var c=a(81049),d=a(43345),m=a(57976),u=a(25491),x=a(28745);let f=[{id:"garden",name:"Bah\xe7e",tableCount:12,prefix:"B",color:{primary:"#10b981",dark:"#065f46",light:"#d1fae5",border:"#6ee7b7"}},{id:"salon",name:"Salon",tableCount:14,prefix:"S",color:{primary:"#3b82f6",dark:"#1e40af",light:"#dbeafe",border:"#93c5fd"}},{id:"basement",name:"Alt Kat",tableCount:10,prefix:"A",color:{primary:"#8b5cf6",dark:"#5b21b6",light:"#ede9fe",border:"#c4b5fd"}},{id:"terrace",name:"Teras",tableCount:10,prefix:"T",color:{primary:"#f59e0b",dark:"#92400e",light:"#fef3c7",border:"#fcd34d"}},{id:"roof",name:"\xc7atı Katı",tableCount:5,prefix:"R",color:{primary:"#ef4444",dark:"#b91c1c",light:"#fee2e2",border:"#fca5a5"}}],h=(()=>{let e=[],t=1;return f.forEach(a=>{for(let i=1;i<=a.tableCount;i++){let l="".concat(a.prefix).concat(i),r=Math.random()>.6;e.push({id:t++,number:l,section:a.name,status:r?"occupied":"empty",...r&&{occupiedInfo:{waiter:["Ahmet","Mehmet","Ayşe","Fatma","Ali","Zeynep","Can","Elif"][Math.floor(8*Math.random())],occupiedTime:Math.floor(180*Math.random())+5,currentGuests:Math.floor(6*Math.random())+1}},....1>Math.random()&&{isAdmin:!0}})}}),e})(),p=(e=>{let t=[],a=e.filter(e=>"occupied"===e.status),i=Math.floor(5*Math.random())+3;for(let e=0;e<i&&0!==a.length;e++){let i=Math.floor(Math.random()*a.length),l=a[i],r=["Karışık Pizza","Cheeseburger","Tavuk Şiş","Adana Kebap","Lahmacun","Izgara K\xf6fte","Mantı","Karnıyarık","Etli Ekmek","Tavuklu Salata","Balık Izgara","Patates Kızartması"],s=Math.floor(Math.random()*r.length);t.push({id:e+1,tableNumber:l.number,itemName:r[s],readyTime:new Date(Date.now()-Math.floor(6e5*Math.random())),isRead:Math.random()>.7}),a.splice(i,1)}return t})(h),y=e=>{if(e<60)return"".concat(e,"dk");let t=e%60;return"".concat(Math.floor(e/60),"s").concat(t>0?" ".concat(t,"dk"):"")},b=e=>{let t=Math.floor((new Date().getTime()-e.getTime())/6e4);if(t<1)return"Az \xf6nce";if(t<60)return"".concat(t," dakika \xf6nce");let a=Math.floor(t/60);return a<24?"".concat(a," saat \xf6nce"):e.toLocaleDateString("tr-TR")};var g=()=>{var e,t;let a=(0,r.useRouter)(),[g,v]=(0,l.useState)(f[0].name),[j,N]=(0,l.useState)(new Date),[w,k]=(0,l.useState)(null),[M,C]=(0,l.useState)(!1),[E,z]=(0,l.useState)(!1),[I,Z]=(0,l.useState)(p),[S,T]=(0,l.useState)({});(0,l.useEffect)(()=>{let e=setInterval(()=>{N(new Date)},6e4);return()=>clearInterval(e)},[]);let A=e=>{k(e),C(!0),setTimeout(()=>{a.push("/mobileorder/".concat(e))},500)},K=e=>{T(t=>({...t,[e]:!0}))},L=f.find(e=>e.name===g),B=h.filter(e=>e.section===g),D=I.filter(e=>!e.isRead&&!S[e.id]).length;return(0,i.jsxs)("div",{className:"flex flex-col h-full bg-gray-100",children:[(0,i.jsx)(u.E.div,{className:"bg-gray-900 shadow-lg",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,i.jsx)("div",{className:"overflow-x-auto py-2 px-1",children:(0,i.jsx)("div",{className:"flex",children:f.map(e=>{let t=g===e.name;return(0,i.jsxs)(u.E.button,{className:"relative mx-1 px-5 py-3 rounded-lg transition-all ".concat(t?"shadow-lg":"opacity-70"),style:{backgroundColor:t?e.color.primary:"rgba(255,255,255,0.08)"},onClick:()=>v(e.name),whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,i.jsx)("div",{className:"flex flex-col items-center relative z-10",children:(0,i.jsx)("span",{className:"text-base font-medium text-white",children:e.name})}),t&&(0,i.jsx)(u.E.div,{className:"absolute inset-0 rounded-lg",initial:{opacity:0},animate:{opacity:[.5,.3,.5],scale:[1,1.05,1]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},style:{backgroundColor:e.color.primary,filter:"blur(8px)",zIndex:0}})]},e.id)})})})}),(0,i.jsx)(u.E.div,{className:"px-4 py-3 bg-white border-b border-gray-200 mb-2 shadow-sm",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.1},style:{borderLeftWidth:"5px",borderLeftColor:null==L?void 0:L.color.primary},children:(0,i.jsxs)("h2",{className:"text-lg font-bold",style:{color:null==L?void 0:L.color.dark},children:[null==L?void 0:L.name," B\xf6l\xfcm\xfc"]})}),(0,i.jsx)("div",{className:"flex-1 p-3 overflow-auto pb-16",children:(0,i.jsx)(u.E.div,{className:"grid grid-cols-3 gap-3",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.2},children:B.map((e,t)=>{let a=f.find(t=>t.name===e.section),l="occupied"===e.status,r=w===e.id;return(0,i.jsxs)(u.E.button,{className:"relative flex flex-col rounded-lg overflow-hidden shadow-sm",style:{backgroundColor:l?null==a?void 0:a.color.light:"white",borderWidth:"2px",borderStyle:"solid",borderColor:l?null==a?void 0:a.color.border:"#e5e7eb"},onClick:()=>A(e.id),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:r?1.05:1,y:r?-5:0,boxShadow:r?"0 10px 25px -5px rgba(0, 0, 0, 0.1)":"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},transition:{duration:.2,delay:.05*t,type:"spring",stiffness:300,damping:20},whileHover:{scale:1.03,y:-3},whileTap:{scale:.97},exit:r?{scale:1.1,opacity:0}:void 0,children:[(0,i.jsx)("div",{className:"w-full text-center py-2 font-bold text-white text-lg",style:{backgroundColor:l?null==a?void 0:a.color.primary:"#9ca3af"},children:e.number}),(0,i.jsx)("div",{className:"w-full p-2 text-center",children:l&&e.occupiedInfo?(0,i.jsxs)("div",{className:"flex flex-col items-center",children:[(0,i.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[(0,i.jsx)(s.Z,{size:14,className:"mr-1"}),(0,i.jsx)("span",{children:y(e.occupiedInfo.occupiedTime)})]}),(0,i.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,i.jsx)(n.Z,{size:14,className:"mr-1"}),(0,i.jsx)("span",{className:"truncate max-w-[80px]",children:e.occupiedInfo.waiter})]})]}):(0,i.jsx)("div",{className:"py-3 text-sm text-gray-500",children:"Boş"})}),e.isAdmin&&(0,i.jsx)("div",{className:"absolute top-0 right-0 bg-yellow-400 text-[10px] px-1 rounded-bl-md font-bold",children:"ADMIN"})]},e.id)})})}),(0,i.jsxs)(u.E.div,{className:"fixed bottom-0 left-0 right-0 grid grid-cols-2 shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[(0,i.jsxs)("button",{className:"flex items-center justify-center py-4 font-medium text-white relative",onClick:()=>{z(!0)},style:{backgroundColor:"#3b82f6"},children:[(0,i.jsx)(o,{size:20,className:"mr-2"}),"MUTFAK BİLDİRİMLERİ",D>0&&(0,i.jsx)(u.E.div,{className:"absolute top-2 right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:25},children:D})]}),(0,i.jsxs)("button",{className:"flex items-center justify-center py-4 font-medium text-white",onClick:()=>{a.push("/")},style:{backgroundColor:"#ef4444"},children:[(0,i.jsx)(c.Z,{size:20,className:"mr-2"}),"\xc7IKIŞ"]})]}),(0,i.jsx)(x.M,{children:E&&(0,i.jsxs)(u.E.div,{className:"fixed inset-0 z-50 bg-white",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},children:[(0,i.jsxs)("div",{className:"bg-blue-600 text-white p-4 flex items-center justify-between shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(o,{size:24,className:"mr-2"}),(0,i.jsx)("h3",{className:"text-lg font-bold",children:"Mutfak Bildirimleri"})]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("span",{className:"text-sm bg-white text-blue-600 px-2 py-1 rounded-full font-bold mr-2",children:[I.length," bildirim"]}),(0,i.jsx)("button",{className:"bg-white bg-opacity-20 p-2 rounded-full",onClick:()=>z(!1),children:(0,i.jsx)(c.Z,{size:20})})]})]}),(0,i.jsx)("div",{className:"flex-1 overflow-y-auto",style:{height:"calc(100vh - 136px)"},children:0===I.length?(0,i.jsxs)("div",{className:"p-6 text-center text-gray-500 h-full flex flex-col items-center justify-center",children:[(0,i.jsx)(d.Z,{size:60,className:"mx-auto mb-4 opacity-20"}),(0,i.jsx)("p",{className:"text-lg",children:"Bildirim bulunmuyor"}),(0,i.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Yeni bildirimler burada g\xf6r\xfcnecek"})]}):(0,i.jsx)("div",{className:"divide-y divide-gray-200",children:I.map(e=>{let t=e.isRead||S[e.id],a=f.find(t=>t.prefix===e.tableNumber.charAt(0));return(0,i.jsx)(u.E.div,{className:"p-5 ".concat(t?"bg-white":"bg-blue-50"),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05*e.id},children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:"font-bold text-lg mr-2 px-3 py-1 rounded text-white",style:{backgroundColor:(null==a?void 0:a.color.primary)||"#9ca3af"},children:e.tableNumber}),(0,i.jsx)("span",{className:"text-sm text-gray-500",children:b(e.readyTime)})]}),(0,i.jsxs)("p",{className:"font-medium mt-2 text-lg",children:[e.itemName," hazır!"]}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"L\xfctfen en kısa s\xfcrede servise alın."})]}),!t&&(0,i.jsx)(u.E.button,{className:"bg-green-500 text-white p-3 rounded-full flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(e.id),children:(0,i.jsx)(m.Z,{size:24})})]})},e.id)})})}),(0,i.jsx)("div",{className:"p-4 border-t border-gray-200 bg-gray-50 fixed bottom-0 left-0 right-0",children:(0,i.jsx)("button",{className:"w-full py-3 bg-blue-600 text-white rounded-lg font-medium text-lg",onClick:()=>z(!1),children:"Kapat"})})]})}),M&&(0,i.jsx)(u.E.div,{className:"fixed inset-0 bg-white z-50 flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,i.jsx)(u.E.div,{initial:{scale:0},animate:{scale:1.5},transition:{duration:.5},className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:null===(e=f.find(e=>e.name===g))||void 0===e?void 0:e.color.primary},children:(0,i.jsx)("span",{className:"text-white text-xl font-bold",children:(null===(t=B.find(e=>e.id===w))||void 0===t?void 0:t.number)||""})})})]})},v=e=>{let{children:t,location:a}=e,[r,s]=(0,l.useState)(a),[n,o]=(0,l.useState)("fadeIn");return(0,l.useEffect)(()=>{a!==r&&o("fadeOut")},[a,r]),(0,i.jsx)(x.M,{mode:"wait",children:(0,i.jsx)(u.E.div,{className:"w-full h-full",initial:{opacity:0,x:"fadeIn"===n?100:-100},animate:{opacity:1,x:0},exit:{opacity:0,x:"fadeIn"===n?-100:100},transition:{type:"spring",stiffness:300,damping:30},onAnimationComplete:()=>{"fadeOut"===n&&(o("fadeIn"),s(a))},children:t},r)})};function j(){let[e,t]=(0,l.useState)("tables");return(0,l.useEffect)(()=>{let e=()=>{let e=window.location.pathname;"/mobileorder"===e?t("tables"):e.startsWith("/mobileorder/")&&t("order")};return e(),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]),(0,i.jsx)(v,{location:e,children:(0,i.jsx)("div",{className:"flex-1 overflow-auto",children:(0,i.jsx)(g,{})})})}}},function(e){e.O(0,[9065,2971,8069,1744],function(){return e(e.s=83780)}),_N_E=e.O()}]);