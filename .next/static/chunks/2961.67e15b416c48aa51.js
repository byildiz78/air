"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2961],{26490:function(e,t,n){n.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,n(87461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},45518:function(e,t,n){var s=n(3827);n(64090);var o=n(26490),i=n(76992);t.Z=e=>{let{tableId:t,title:n="RobotPOS",onBarcodeSubmit:c}=e;return(0,s.jsx)("div",{className:"bg-gray-900/90 border-b border-gray-800 p-4",children:(0,s.jsxs)("div",{className:"container mx-auto flex justify-between items-center text-white",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("h1",{className:"text-xl font-bold",children:n}),t&&(0,s.jsxs)("span",{className:"text-lg",children:["Masa ",t]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{size:18}),(0,s.jsx)("span",{children:new Date().toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})})]}),(0,s.jsx)("div",{className:"ml-4",children:(0,s.jsx)(i.Z,{onSubmit:null!=c?c:()=>{}})})]})]})})}},42961:function(e,t,n){n.r(t);var s=n(3827),o=n(64090),i=n(47907),c=n(35450),r=n(45518),a=n(59684),l=n(25534),u=n(33258),d=n(33151),m=n(70362),p=n(23955);t.default=()=>{let e=(0,i.useRouter)(),[t,n]=(0,o.useState)(1),[x,f]=(0,o.useState)(c.b[0]),[h,g]=(0,o.useState)([]),[b,C]=(0,o.useState)([]),[j,y]=(0,o.useState)(null),[S,N]=(0,o.useState)(!1),[O,v]=(0,o.useState)(!1),[k,I]=(0,o.useState)(!1),[P,Z]=(0,o.useState)(!1),[D,w]=(0,o.useState)(""),[q,_]=(0,o.useState)(!1),[A,R]=(0,o.useState)(null),T=e=>{for(let t of c.b){let n=t.products.find(t=>t.barcode===e);if(n)return n}return null},E=c.b.filter(e=>e.page===t),z=e=>{if(e.isCombo&&e.comboOptions){R(e),_(!0);return}g(t=>t.find(t=>t.productId===e.id)?t.map(t=>t.productId===e.id?{...t,quantity:t.quantity+1}:t):[...t,{productId:e.id,name:e.name,price:e.price,quantity:1}]),y(e.id)};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-900/70",children:[(0,s.jsx)(r.Z,{title:"Paket Sipariş"}),(0,s.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,s.jsx)(u.Z,{currentPage:t,currentCategories:E,selectedCategory:x,onPageChange:n,onCategorySelect:f,onCancel:()=>e.push("/")}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(a.Z,{products:x.products,selectedProduct:j,orderItems:h,onProductSelect:z}),(0,s.jsx)(d.Z,{onCheckDiscount:()=>v(!0),onProductDiscount:()=>I(!0),onCustomerName:()=>Z(!0),onOtherOptions:()=>N(!0),showTableActions:!1})]}),(0,s.jsx)(l.Z,{orderItems:h,payments:b,onIncrement:e=>{let t=x.products.find(t=>t.id===e);t&&z(t)},onDecrement:e=>{g(t=>{let n=t.find(t=>t.productId===e);return n&&n.quantity>1?t.map(t=>t.productId===e?{...t,quantity:t.quantity-1}:t):t.filter(t=>t.productId!==e)})},onPayment:(e,t)=>{let n={type:e,amount:t,timestamp:new Date().toISOString()};C(e=>[...e,n])},tableId:"",onBarcodeSubmit:e=>{let t=T(e);t?z(t):console.log("\xdcr\xfcn bulunamadı:",e)}}),(0,s.jsx)(m.Z,{isOtherOptionsOpen:S,isCheckDiscountOpen:O,isProductDiscountOpen:k,isCustomerNameOpen:P,onOtherOptionsClose:()=>N(!1),onCheckDiscountClose:()=>v(!1),onProductDiscountClose:()=>I(!1),onCustomerNameClose:()=>Z(!1),onCheckDiscount:e=>{console.log("Applying check discount:",e)},onProductDiscount:e=>{console.log("Applying product discount:",e)},onCustomerName:e=>{w(e)}}),A&&(0,s.jsx)(p.Z,{isOpen:q,onClose:()=>{_(!1),R(null)},comboOptions:A.comboOptions,onComplete:e=>{if(!A)return;let t=(e.mainItem.extraPrice||0)+(e.side.extraPrice||0)+(e.drink.extraPrice||0),n="".concat(A.name," (").concat(e.mainItem.name,")");g(s=>[...s,{productId:A.id,name:n,price:A.price+t,quantity:1,comboSelections:e}]),R(null),_(!1)}})]})]})}}}]);