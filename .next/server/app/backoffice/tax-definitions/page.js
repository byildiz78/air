(()=>{var e={};e.id=7593,e.ids=[7593],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6005:e=>{"use strict";e.exports=require("node:crypto")},98957:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=r(50482),s=r(69108),i=r(62563),n=r.n(i),l=r(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["backoffice",{children:["tax-definitions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,92893)),"C:\\projeler\\air\\src\\app\\backoffice\\tax-definitions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,92278)),"C:\\projeler\\air\\src\\app\\backoffice\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,21342)),"C:\\projeler\\air\\src\\app\\layout.tsx"],template:[()=>Promise.resolve().then(r.bind(r,38140)),"C:\\projeler\\air\\src\\app\\template.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\projeler\\air\\src\\app\\backoffice\\tax-definitions\\page.tsx"],u="/backoffice/tax-definitions/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/backoffice/tax-definitions/page",pathname:"/backoffice/tax-definitions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69892:(e,t,r)=>{Promise.resolve().then(r.bind(r,81535))},81535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var a=r(95344),s=r(3729),i=r(46327),n=r(38271),l=r(31498),o=r(14513),d=r(51838),c=r(24576),u=r(52354),m=r(66472),x=r(90132);let p=[{id:"1",name:"YİYECEK %1",rate:1},{id:"2",name:"YİYECEK %8",rate:8},{id:"3",name:"YİYECEK %18",rate:18},{id:"4",name:"İ\xc7ECEK %8",rate:8},{id:"5",name:"İ\xc7ECEK %18",rate:18},{id:"6",name:"ALKOLL\xdc %18",rate:18},{id:"7",name:"TATLI %8",rate:8},{id:"8",name:"TATLI %18",rate:18},{id:"9",name:"KDV %0",rate:0},{id:"10",name:"YİYECEK %10",rate:10},{id:"11",name:"YİYECEK %20",rate:20},{id:"12",name:"YİYECEK %24",rate:24}],g=[{id:"1",productId:"1",productName:"Hamburger",masaKdvId:"3",alGoturKdvId:"3",paketServisKdvId:"2"},{id:"2",productId:"2",productName:"Pizza",masaKdvId:"3",alGoturKdvId:"3",paketServisKdvId:"2"},{id:"3",productId:"3",productName:"Kola",masaKdvId:"5",alGoturKdvId:"5",paketServisKdvId:"5"},{id:"4",productId:"4",productName:"Ayran",masaKdvId:"4",alGoturKdvId:"4",paketServisKdvId:"4"},{id:"5",productId:"5",productName:"Baklava",masaKdvId:"8",alGoturKdvId:"8",paketServisKdvId:"7"}],h=[{id:"groups",title:"KDV Grupları"},{id:"mappings",title:"Satış Tipine G\xf6re Eşleştirme"}];function b(){let[e,t]=(0,s.useState)("groups"),[r,b]=(0,s.useState)(p),[f,v]=(0,s.useState)(g),[y,j]=(0,s.useState)(!1),[N,w]=(0,s.useState)(),[K,k]=(0,s.useState)("new"),[I,C]=(0,s.useState)(new Set),[S,G]=(0,s.useState)({}),E=e=>{w(e),k("edit"),j(!0)},P=e=>{confirm("Bu KDV grubunu silmek istediğinize emin misiniz?")&&(b(r.filter(t=>t.id!==e)),v(f.map(t=>({...t,masaKdvId:t.masaKdvId===e?null:t.masaKdvId,alGoturKdvId:t.alGoturKdvId===e?null:t.alGoturKdvId,paketServisKdvId:t.paketServisKdvId===e?null:t.paketServisKdvId}))))},_=e=>{C(t=>{let r=new Set(t);return r.add(e),r}),G(t=>({...t,[e]:{...f.find(t=>t.id===e)}}))},D=e=>{C(t=>{let r=new Set(t);return r.delete(e),r}),delete S[e],G({...S})},q=e=>{let t=S[e];v(f.map(r=>r.id===e?t:r)),D(e)},Y=(e,t,r)=>{I.has(e)&&G(a=>({...a,[e]:{...a[e],[t]:""===r?null:r}}))},A=({mappingId:e,field:t,value:s,onChange:i})=>{let n=I.has(e),l=n?S[e][t]:s;return(0,a.jsxs)("select",{value:l||"",onChange:e=>i(e.target.value),disabled:!n,className:`w-full h-8 rounded bg-gray-50 border px-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 text-sm ${n?"border-blue-300 bg-white":"border-gray-300 bg-gray-50"} ${!n&&"cursor-not-allowed opacity-75"}`,children:[a.jsx("option",{value:"",children:"Se\xe7iniz"}),r.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})},V=[{header:"\xdcr\xfcn",accessor:"productName",sortable:!0},{header:"Masa",accessor:e=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(A,{mappingId:e.id,field:"masaKdvId",value:e.masaKdvId,onChange:t=>Y(e.id,"masaKdvId",t)})})},{header:"Al G\xf6t\xfcr",accessor:e=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(A,{mappingId:e.id,field:"alGoturKdvId",value:e.alGoturKdvId,onChange:t=>Y(e.id,"alGoturKdvId",t)})})},{header:"Paket Servis",accessor:e=>a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(A,{mappingId:e.id,field:"paketServisKdvId",value:e.paketServisKdvId,onChange:t=>Y(e.id,"paketServisKdvId",t)})})},{header:"İşlemler",accessor:e=>{let t=I.has(e.id);return a.jsx("div",{className:"flex items-center gap-2",children:t?(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>q(e.id),className:"text-emerald-500 hover:text-emerald-600 transition-colors",title:"Kaydet",children:a.jsx(l.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>D(e.id),className:"text-gray-500 hover:text-gray-600 transition-colors",title:"İptal",children:a.jsx(o.Z,{className:"w-5 h-5"})})]}):a.jsx("button",{onClick:()=>_(e.id),className:"text-blue-500 hover:text-blue-600 transition-colors",title:"D\xfczenle",children:a.jsx(i.Z,{className:"w-5 h-5"})})})}}];return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"KDV Tanımları"})}),a.jsx(m.m,{tabs:h,activeTab:e,onTabChange:t}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"groups"===e?"KDV gruplarını ve oranlarını y\xf6netin":"\xdcr\xfcnlerin satış tiplerine g\xf6re KDV gruplarını belirleyin"}),"groups"===e&&(0,a.jsxs)("button",{onClick:()=>{w(void 0),k("new"),j(!0)},className:"bg-blue-500 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-600 transition-colors",children:[a.jsx(d.Z,{className:"w-5 h-5"}),"Yeni KDV Grubu"]})]}),"groups"===e?a.jsx(u.w,{columns:[{header:"Grup Adı",accessor:"name",sortable:!0},{header:"KDV Oranı",accessor:e=>`%${e.rate}`,sortable:!0},{header:"İşlemler",accessor:e=>(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),E(e)},className:"text-blue-500 hover:text-blue-600 transition-colors",children:a.jsx(i.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),P(e.id)},className:"text-red-500 hover:text-red-600 transition-colors",children:a.jsx(n.Z,{className:"w-5 h-5"})})]})}],data:r,onRowClick:E}):a.jsx(u.w,{columns:V,data:f})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl w-[500px]",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(c.Z,{className:"w-5 h-5 text-blue-500"}),"edit"===K?"KDV Grubu D\xfczenle":"Yeni KDV Grubu"]}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-500 transition-colors",children:a.jsx(n.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t=e.target,a=new FormData(t),s={id:N?.id||(0,x.x0)(),name:a.get("name"),rate:parseFloat(a.get("rate"))};"edit"===K?b(r.map(e=>e.id===s.id?s:e)):b([...r,s]),j(!1)},className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Grup Adı"}),a.jsx("input",{type:"text",name:"name",defaultValue:N?.name,className:"w-full h-10 rounded-lg bg-gray-50 border border-gray-300 px-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KDV Oranı (%)"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx("input",{type:"number",name:"rate",defaultValue:N?.rate,className:"w-full h-10 rounded-lg bg-gray-50 border border-gray-300 pl-9 pr-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50",required:!0,min:"0",max:"100",step:"0.01"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900 transition-colors",children:"İptal"}),a.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Kaydet"})]})]})]})})]})}},52354:(e,t,r)=>{"use strict";r.d(t,{w:()=>d});var a=r(95344),s=r(3729),i=r.n(s),n=r(28765),l=r(12704),o=r(25390);function d({columns:e,data:t,onRowClick:r}){let[d,c]=(0,s.useState)(null),[u,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(1),g=i().useMemo(()=>d?[...t].sort((e,t)=>{let r=e[d.key],a=t[d.key];return"string"==typeof r&&"string"==typeof a?"asc"===d.direction?r.localeCompare(a):a.localeCompare(r):r===a?0:"asc"===d.direction?r<a?-1:1:r>a?-1:1}):t,[t,d]),h=i().useMemo(()=>u?g.filter(e=>Object.entries(e).some(([e,t])=>("string"==typeof t||"number"==typeof t)&&String(t).toLowerCase().includes(u.toLowerCase()))):g,[g,u]),b=Math.ceil(h.length/10),f=h.slice((x-1)*10,10*x),v=e=>{"function"!=typeof e&&c(t=>t&&t.key===e?"asc"===t.direction?{key:e,direction:"desc"}:null:{key:e,direction:"asc"})};return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:(0,a.jsxs)("div",{className:"relative",children:[a.jsx(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Ara...",value:u,onChange:e=>m(e.target.value),className:"w-full h-10 pl-10 pr-4 rounded-lg bg-white border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"})]})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsx("tr",{children:e.map((e,t)=>a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap",onClick:()=>e.sortable&&"string"==typeof e.accessor&&v(e.accessor),style:{cursor:e.sortable&&"string"==typeof e.accessor?"pointer":"default"},children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[e.header,e.sortable&&"string"==typeof e.accessor&&(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx(l.Z,{className:`w-3 h-3 ${d?.key===e.accessor&&"asc"===d.direction?"text-blue-500":"text-gray-400"}`}),a.jsx(o.Z,{className:`w-3 h-3 -mt-1 ${d?.key===e.accessor&&"desc"===d.direction?"text-blue-500":"text-gray-400"}`})]})]})},t))})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map((t,s)=>a.jsx("tr",{className:`hover:bg-gray-50 ${r?"cursor-pointer":""}`,onClick:()=>r?.(t),children:e.map((e,r)=>a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"function"==typeof e.accessor?e.accessor(t):String(t[e.accessor])},r))},s))})]})}),(0,a.jsxs)("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Toplam ",h.length," kayıt"]}),a.jsx("div",{className:"flex gap-1",children:Array.from({length:b},(e,t)=>t+1).map(e=>a.jsx("button",{onClick:()=>p(e),className:`w-8 h-8 flex items-center justify-center rounded text-sm transition-colors ${x===e?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:e},e))})]})]})}},66472:(e,t,r)=>{"use strict";r.d(t,{m:()=>s});var a=r(95344);function s({tabs:e,activeTab:t,onTabChange:r}){return a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("div",{className:"flex gap-4",children:e.map(e=>(0,a.jsxs)("button",{onClick:()=>r(e.id),className:`px-4 py-2 text-sm font-medium transition-colors relative ${t===e.id?"text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[e.title,t===e.id&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600"})]},e.id))})})}},92893:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>s,default:()=>n});let a=(0,r(86843).createProxy)(String.raw`C:\projeler\air\src\app\backoffice\tax-definitions\page.tsx`),{__esModule:s,$$typeof:i}=a,n=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[7374,8921,8049,5336],()=>r(98957));module.exports=a})();